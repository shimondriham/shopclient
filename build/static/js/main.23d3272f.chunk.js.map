{"version":3,"sources":["comps/homeStrip.js","services/apiService.js","comps/homeCategoryList.js","services/localService.js","context/shopContext.js","comps/productItem.js","comps/productsHome.js","comps/home.js","comps/general_comps/clientFooter.js","comps/general_comps/clientHeader.js","comps/cart_comps/cartItem.js","comps/cart_comps/cart.js","comps/layoutClient.js","misc_comps/authAdminComp.js","comps_admin/addCategory.js","comps_admin/addProduct.js","comps_admin/categoriesList.js","comps_admin/editCategory.js","comps_admin/editProduct.js","comps_admin/headerAdmin.js","comps_admin/layoutAdmin.js","comps_admin/loginAdmin.js","comps_admin/logoutAdmin.js","misc_comps/pageLinks.js","comps_admin/productsAdminList.js","comps_admin/usersList.js","comps/productsListPage.js","comps/infoProductsList.js","comps/productInfo.js","comps/users_comps/signupClient.js","comps/users_comps/loginClient.js","comps/users_comps/logoutClient.js","comps/users_comps/authClientComp.js","comps/users_comps/favsProducts.js","comps/searchProducts.js","comps/general_comps/page404.js","comps_admin/checkoutItem.js","comps_admin/checkoutListAdmin.js","comps_admin/checkoutInfo.js","comps/orders_comps/checkout.js","comps/orders_comps/oldOrders.js","comps/orders_comps/oldOrderInfoClient.js","appRoute.js","App.js","index.js"],"names":["HomeStrip","props","style","backgroundImage","className","API_URL","doApiGet","_url","a","axios","get","headers","localStorage","data","doApiMethod","_method","_body","method","url","JSON","stringify","HomeCategoryList","useState","ar","setAr","useEffect","doApi","resp","console","log","map","item","to","url_name","img_url","name","_id","VISITED_PRODUCT","SHOP_TOKEN","CART","addProdVisitedToLocal","_short_id","local_ar","split","includes","unshift","splice","length","setItem","join","AppContext","createContext","ProducItem","useContext","favs_ar","addRemoveFav","qty","price","short_id","onClick","ProductsHome","vistedProds","Home","Fragment","ClientFooter","ClientHeader","showCart","setShowCart","login","setLogin","inputRef","useRef","location","useLocation","nav","useNavigate","onSearchClick","input_val","current","value","onKeyDown","e","key","ref","placeholder","type","CartItem","cart_ar","updateCart","temp_ar","filter","prod","Cart","total","setTotal","sumTotal","forEach","display","LayoutClient","setFavsAr","setCartAr","doFavApi","parse","_newAr","_cart_ar","response","modifiedCount","toast","info","error","Provider","addToCart","_newItem","inCart","AuthAdminComp","role","alert","AddCategory","btnSend","setBtnSend","useForm","register","handleSubmit","errors","formState","nameRef","required","minLength","maxLength","url_nameRef","img_urlRef","doFormApi","formData","success","onSubmit","disabled","AddProduct","cat_ar","setCatAr","infoRef","priceRef","min","max","cat_short_idRef","conditionRef","qtyRef","rows","defaultValue","cat_short_id","CategoriesList","delCategory","_idDel","window","confirm","deletedCount","i","EditCategory","category","setCategory","params","useParams","urlProduct","resp2","warning","EditProduct","product","setProduct","id","condition","HeaderAdmin","LayoutAdmin","LoginAdmin","_dataBody","token","err","emailRef","pattern","passwordRef","email","password","LogoutAdmin","removeItem","PageLinks","pages","setPages","apiUrlAmount","Math","ceil","amount","perPage","Array","clsCss","urlLinkTo","ProductsAdminList","numPage","setPageNum","catObj","setCatObj","resp0","categories_data","urlParams","URLSearchParams","search","pageQuery","delProduct","UsersList","delUser","changeRole","_userId","_role","address","ProductsListPage","shortId","setShortId","setAmount","urlCategory","cat_url","resp1","urlProds","urlAmounts","resp3","minHeight","InfoProductsList","pop","ProductInfo","src","alt","SignUpClient","code","addressRef","phoneRef","phone","LogInClient","_token","LogoutClient","AuthClientComp","doApiAuth","FavsProducts","doApiListFav","SearchProducts","whatSearch","setWhatSearch","showLoading","setShowLoading","searchQuery","Page404","CheckoutItem","index","status","total_price","products_ar","CheckoutListAdmin","useSearchParams","query","page","setPage","pageQ","CheckoutInfo","orderInfo","setOrderInfo","selectRef","order","products","onStatusChanged","onChange","title","height","Checkout","cartEmpty","setCartEmpty","doApiAddToCheckout","s_id","_delProdId","onXclick","currency","options","clientId","onSuccess","details","onCancel","OldOrders","date","date_created","replace","substring","indexOf","OldOrderInfoClient","orderDate","setOrderDate","idOrder","AppRoute","path","element","position","theme","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.23d3272f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction HomeStrip(props){\r\n  return(\r\n    <div style={{backgroundImage:\"url(https://images.unsplash.com/photo-1593277992013-05e17a5f417d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)\"}} className='strip_home container-fluid d-flex align-items-center'>\r\n {/* <div style={{backgroundImage:\"url(https://images.unsplash.com/photo-1560419015-7c427e8ae5ba?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)\"}} className='strip_home container-fluid d-flex align-items-center'> */}\r\n      <div className=\"container text-center\">\r\n        <h2 className='h1'>Welcome to The gaming world!</h2>\r\n        <h5>Shop that you can find everthing about gaming</h5>\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default HomeStrip","import axios from \"axios\";\r\n\r\nexport const API_URL = \"http://localhost:3002\";\r\n// export const API_URL = \"http://shimonshop.herokuapp.com\";\r\n\r\n\r\n\r\nexport const doApiGet = async (_url) => {\r\n  try {\r\n    let data = await axios.get(_url, {\r\n      headers: {\r\n\r\n        'x-api-key': localStorage[\"tok\"],\r\n        'content-type': \"application/json\"\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n  catch(err){\r\n    throw err\r\n  }\r\n}\r\n\r\nexport const doApiMethod = async (_url,_method,_body) => {\r\n  try {\r\n    let data = await axios({\r\n      method:_method,\r\n      url:_url,\r\n      data: JSON.stringify(_body),\r\n      headers:{\r\n        'x-api-key': localStorage[\"tok\"],\r\n        'content-type': \"application/json\"\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n  catch(err){\r\n    throw err\r\n  }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\n\r\n\r\nfunction HomeCategoryList(props) {\r\n  const [ar, setAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/categories\";\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setAr(resp.data);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className='container-fluid shadow'>\r\n      <div className='container py-4 categories_list'>\r\n        <h2 className='text-center'>Choose category of products you want to buy:</h2>\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <Link to={\"/products/\"+item.url_name} key={item._id} className='myCard col-md-4 p-3'>\r\n                <div className=\"shadow  bg-dark text-white\">\r\n                  {/* check if there bg image  */}\r\n\r\n                  <div style={{ backgroundImage: `url(${item.img_url || \"/images/cover.jpg\"})` }} className='img_card'></div>\r\n                  {/* TODO:Add link */}\r\n                    \r\n                  <h3 className='p-2'>{item.name}</h3>\r\n                </div>\r\n              </Link>)\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomeCategoryList","// save short ids of products we visited in to show after in the home page\r\nexport const VISITED_PRODUCT = \"visitedProduct\";\r\nexport const SHOP_TOKEN = \"tok\";\r\nexport const CART = \"cart_shop\"\r\n\r\n\r\nexport const saveCartLocal = (_cart_ar) => {\r\n  localStorage.setItem(CART, JSON.stringify(_cart_ar))\r\n}\r\n\r\nexport const getCartFromLocal = () => {\r\n  if(localStorage[CART]){\r\n    return JSON.parse(localStorage[CART]);\r\n  }\r\n  return [];\r\n}\r\n\r\nexport const saveTokenLocal = (_token) => {\r\n  localStorage.setItem(SHOP_TOKEN, _token);\r\n}\r\n\r\nexport const checkTokenLocal = () => {\r\n  if(localStorage[SHOP_TOKEN]){\r\n    return localStorage[SHOP_TOKEN];\r\n  }\r\n  else{\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const deleteToken = () => {\r\n  localStorage.removeItem(SHOP_TOKEN)\r\n}\r\n\r\nexport const addProdVisitedToLocal = (_short_id) => {\r\n  // if there local of products local_ar equal to the data in local if not equal to new array\r\n  // Primitive array cant do stringfy or parse , need to use split or join\r\n  // split - like parse of JSON for primtive array\r\n  let local_ar = localStorage[VISITED_PRODUCT] ? localStorage[VISITED_PRODUCT].split(\",\") : [];\r\n  // check if id already in local \r\n  if (!local_ar.includes(_short_id)) {\r\n    // add new cell in array in the start\r\n    local_ar.unshift(_short_id);\r\n    // for save only 4 products\r\n    local_ar.splice(4, local_ar.length);\r\n    // console.log(local_ar)\r\n    // Primitive array cant do stringfy or parse , need to use split or join \r\n    // join like stringfy of JSON just for primitive array\r\n    localStorage.setItem(VISITED_PRODUCT, local_ar.join(\",\"));\r\n  }\r\n}\r\n\r\n// return the shorts_id of products we visited as string for \r\n// URL to api request\r\nexport const checkVisitedLocal = () => {\r\n  if (localStorage[VISITED_PRODUCT]) {\r\n    return localStorage[VISITED_PRODUCT];\r\n  }\r\n  return null;\r\n}","\r\nimport {createContext} from 'react';\r\n \r\nexport const AppContext = createContext(null);","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { BsStar, BsStarFill} from \"react-icons/bs\"\r\nimport {AppContext} from \"../context/shopContext\"\r\n\r\nfunction ProducItem(props) {\r\n  let item = props.item;\r\n  let {favs_ar,addRemoveFav} = useContext(AppContext)\r\n\r\n  return (\r\n    <div className='product-item col-md-3 p-2'>\r\n      <div className=\"shadow\">\r\n        <div style={{ backgroundImage: `url(${item.img_url || \"/images/cover.jpg\"})` }} className='product-img'>  {item.qty === 0 ? \r\n          <div className='sold-out'>Sold out!</div> : \"\"\r\n          }</div>\r\n        <div className='p-2'>\r\n      \r\n          <h4>{item.name}</h4>\r\n          <div>Price: {item.price} NIS</div>\r\n          <div className='text-center my-2'>\r\n            {favs_ar.includes(item.short_id) ? \r\n            <button onClick={() => {\r\n              addRemoveFav(item.short_id)\r\n            }}  className='btn btn-warning'>\r\n              <BsStarFill className='mb-1' />\r\n            </button> : \r\n            <button onClick={() => {\r\n              addRemoveFav(item.short_id)\r\n            }} className='btn btn-dark'>\r\n              <BsStar className='mb-1' />\r\n            </button>\r\n            }\r\n            <Link className='btn btn-dark w-50' to={\"/productInfo/\"+item._id}>More info</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProducItem","import React, { useEffect, useState } from 'react';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport { checkVisitedLocal, VISITED_PRODUCT } from '../services/localService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction ProductsHome(props){\r\n  let [ar,setAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    // check if there products saved in the local that user visited in\r\n    let vistedProds = checkVisitedLocal();\r\n    let url;\r\n    if(vistedProds){\r\n     url = API_URL+\"/products/visited?visited=\"+vistedProds;\r\n    }\r\n    else{\r\n      url = API_URL+\"/products?perPage=4\";\r\n    }\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setAr(resp.data);\r\n  }\r\n\r\n\r\n  return(\r\n    <div className='container py-4'>\r\n      {localStorage[VISITED_PRODUCT] ? \r\n        <h2 className='text-center text-info'>Products you intersted in</h2> :\r\n      <h2 className='text-center'>\r\n        New products in our store\r\n      </h2>\r\n    }\r\n      <div className=\"row\">\r\n        {ar.map(item => {\r\n          return(\r\n            <ProducItem key={item._id} item={item} />\r\n          )\r\n        })}\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default ProductsHome","import React from 'react';\r\nimport HomeStrip from './homeStrip';\r\nimport \"./css/home.css\"\r\nimport HomeCategoryList from './homeCategoryList';\r\nimport ProductsHome from './productsHome';\r\n\r\nfunction Home(props){\r\n  return(\r\n    <React.Fragment>\r\n      <HomeStrip />\r\n      <HomeCategoryList />\r\n      <ProductsHome />\r\n    </React.Fragment> \r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react';\r\n\r\nfunction ClientFooter(props){\r\n  return(\r\n    <footer className='footer-client container-fluid bg-dark text-white'>\r\n      <div className=\"container text-center\">\r\n      All rights reserved to  Shimon Driham - 2022\r\n\r\n      </div>\r\n      </footer> \r\n  )\r\n}\r\n\r\nexport default ClientFooter","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { BsSearch, BsCart3} from \"react-icons/bs\"\r\n\r\nimport { checkTokenLocal } from '../../services/localService';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction ClientHeader(props) {\r\n  const {showCart,setShowCart} = useContext(AppContext)\r\n  let [login,setLogin] = useState(\"\");\r\n  let inputRef = useRef()\r\n  let location = useLocation();\r\n  let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    setLogin(checkTokenLocal())\r\n  },[location])\r\n\r\n  // work on every key click on the keyboard\r\n  const onKeyboardClick = (e) => {\r\n    // check if we click Enter \r\n    if(e.key == \"Enter\"){\r\n      onSearchClick();\r\n    }\r\n  }\r\n\r\n  const onSearchClick = () => {\r\n    let input_val = inputRef.current.value;\r\n    nav(\"/productsSearch?s=\"+input_val);\r\n  }\r\n\r\n\r\n  return (\r\n    <header className='shadow header-client container-fluid'>\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-between align-items-center\">\r\n          <div className='logo col-md-auto'>\r\n            <Link to=\"/\">\r\n            <h2>The gaming world</h2>\r\n            </Link>\r\n          </div>\r\n          <nav className='col-md-auto'>\r\n            <div className='d-md-flex align-items-center'>\r\n              <div className='links_header me-md-3'>\r\n                {/* <Link to=\"/\">Home</Link> */}\r\n                <Link to=\"/checkout\">Checkout</Link>\r\n                     <Link to=\"/products_favs\">Favorites</Link>\r\n                <Link to=\"/oldOrders\">Old orders</Link>\r\n           \r\n              </div>\r\n              <div className='search_header d-flex'>\r\n                <input onKeyDown={onKeyboardClick} ref={inputRef} placeholder='search...' type=\"text\" className='form-control' />\r\n                <button onClick={onSearchClick} className='btn'><BsSearch className='icon1' /></button>\r\n               {/* cart button */}\r\n                <button onClick={() => { showCart === \"none\" ? setShowCart(\"block\") : setShowCart(\"none\")}} className='btn'><BsCart3 className='icon1' /></button>\r\n              </div>\r\n\r\n              <div className='log_in_out'>\r\n                {login ?\r\n                  <Link to=\"/logout\" >Log out</Link>\r\n                  :\r\n                  <React.Fragment>\r\n                    <Link to=\"/login\">Log in</Link>/\r\n                    <Link to=\"/signup\">Sign up</Link>\r\n                  </React.Fragment>\r\n                }\r\n              </div>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default ClientHeader","import React, { useContext } from 'react';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction CartItem(props){\r\n  const {cart_ar, updateCart} = useContext(AppContext);\r\n  let item = props.item;\r\n\r\n  // remove from cart\r\n  const onRemoveItemClick = () => {\r\n    // filter the item of the product in the comp from the cart_ar\r\n    let temp_ar = cart_ar.filter(prod => prod._id != item._id);\r\n    updateCart(temp_ar);\r\n\r\n  }\r\n\r\n  return(\r\n    <div className='border pt-2 px-2 overflow-hidden'>\r\n      <button onClick={onRemoveItemClick} className='float-end badge bg-danger ms-2'>X</button>\r\n      <h5 className='float-end'>{item.price} Nis</h5>\r\n      <h5>{item.name} </h5>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default CartItem","import React, { useContext, useEffect, useState } from 'react';\r\nimport \"../css/cart.css\";\r\nimport CartItem from './cartItem';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction Cart(props){\r\n  const [total,setTotal] = useState(0);\r\n\r\n  const {showCart,setShowCart,cart_ar} = useContext(AppContext);\r\n\r\n//  calc the total\r\n  useEffect(()=>{\r\n    let sumTotal = 0;\r\n    cart_ar.forEach(item => {\r\n      sumTotal += item.price;\r\n    })\r\n    setTotal(sumTotal)\r\n  },[cart_ar])\r\n\r\n  return(\r\n    <div style={{display:showCart}} className='cart'>\r\n      <button className='btn btn-danger close-btn' onClick={() => {\r\n        setShowCart(\"none\");\r\n      }}>close</button>\r\n      <h2 className='p-2'>Products in carts:</h2>\r\n      {cart_ar.map(item => {\r\n        return(\r\n          <CartItem key={item._id} item={item} />\r\n        )\r\n      })}\r\n      {/* <CartItem /> */}\r\n\r\n      <h2 className='p-2'>Total: {total} Nis</h2>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Cart","import React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport ClientFooter from './general_comps/clientFooter';\r\nimport ClientHeader from './general_comps/clientHeader';\r\nimport { AppContext } from \"../context/shopContext\"\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\nimport \"./css/client.css\"\r\nimport \"./css/headerFooter.css\"\r\nimport Cart from './cart_comps/cart';\r\nimport { getCartFromLocal, saveCartLocal } from '../services/localService';\r\n\r\nfunction LayoutClient(props) {\r\n  const [favs_ar, setFavsAr] = useState([]);\r\n\r\n  // cart global state\r\n  const [cart_ar,setCartAr] = useState([]);\r\n  const [showCart, setShowCart] = useState(\"none\");\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    doFavApi()\r\n    // get cart from local\r\n    setCartAr(getCartFromLocal());\r\n  }, [])\r\n\r\n  const updateCart = (_newAr) => {\r\n    setCartAr(_newAr);\r\n  //  add to localstorage\r\n    saveCartLocal(_newAr);\r\n  }\r\n\r\n  // add cart , but before check it the item already\r\n  // in the cart\r\n  const addToCart = (_newItem) => {\r\n    let inCart = false;\r\n    cart_ar.map(item => {\r\n      if(item._id == _newItem._id){\r\n        inCart = true;\r\n      }\r\n    })\r\n    // check if not in cart already and add it if not\r\n    if(!inCart){\r\n      updateCart([...cart_ar,_newItem])\r\n    }\r\n    setShowCart(\"block\");\r\n  }\r\n\r\n  // get data and add to global favs_ar state favs of currenct user\r\n  const doFavApi = async () => {\r\n    if (localStorage[\"tok\"]) {\r\n      let url = API_URL + \"/favs/\"\r\n      try {\r\n        let resp = await doApiGet(url);\r\n        console.log(resp.data);\r\n        if (resp.data.favs_ar) {\r\n          setFavsAr(resp.data.favs_ar);\r\n        }\r\n      }\r\n      catch (err) {\r\n        console.log(err.response)\r\n      }\r\n    }\r\n    else{\r\n      // if user not logged in will erase all favorite in the memory like in log out\r\n      setFavsAr([])\r\n    }\r\n  }\r\n// add or remove from favorites of user\r\n  const addRemoveFav = async(_short_id) => {\r\n    if (localStorage[\"tok\"]) {\r\n      let url = API_URL+\"/favs/add_remove/\"+_short_id;\r\n      try{\r\n        let resp = await doApiMethod(url,\"PATCH\",{})\r\n        if(resp.data.modifiedCount){\r\n          // alert(\"add_remove_fav\")\r\n          // call again foo the fo FavApi to update in the ui the new change\r\n          doFavApi()\r\n        }\r\n      }\r\n      catch (err) {\r\n        console.log(err.response)\r\n        toast.info(\"There error try again later\")\r\n      }\r\n    }\r\n    else{\r\n      toast.error(\"You must be logged in to add to favorite!\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider value={\r\n      {\r\n        favs_ar,\r\n        addRemoveFav,\r\n        doFavApi,\r\n        showCart,\r\n        setShowCart,\r\n        cart_ar,\r\n        updateCart,\r\n        addToCart\r\n      }\r\n      }>\r\n      <Cart />\r\n      <ClientHeader />\r\n      <Outlet />\r\n      <ClientFooter />\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n\r\nexport default LayoutClient","import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\n\r\nfunction AuthAdminComp(props){\r\n  let nav = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // check if there token in the browser\r\n    if(localStorage[\"tok\"]){\r\n      doApi()\r\n    }\r\n    else{\r\n      toast.error(\"You must be admin to be here! or you need to login again\")\r\n      nav(\"/admin\")\r\n    }\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    let url = API_URL + \"/users/myInfo\";\r\n    try{\r\n      let resp = await doApiGet(url)\r\n      // console.log(resp.data);\r\n      // check if the token is of admin\r\n      if(resp.data.role != \"admin\"){\r\n        toast.error(\"You must be admin to be here! or you need to login again\")\r\n        nav(\"/admin/logout\")\r\n      }\r\n    }\r\n    catch(err){\r\n      // if there not token at all\r\n      console.log(err.response);\r\n      alert(\"You must be admin to be here! or you need to login again\")\r\n      nav(\"/admin/logout\")\r\n      // if token invalid for admin\r\n\r\n    }\r\n  }\r\n  // comp that will added to another comps where the user\r\n  // must be an admin\r\n  return(\r\n    <React.Fragment></React.Fragment>\r\n  )\r\n}\r\n\r\nexport default AuthAdminComp","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService'\r\n\r\nfunction AddCategory(props){\r\n  \r\n   // for disabled the send btn for avoid multi click on him\r\n   let [btnSend,setBtnSend] = useState(false)\r\n \r\n   let nav = useNavigate()\r\n   let { register, handleSubmit, formState: { errors } } = useForm();\r\n \r\n   let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n   let url_nameRef = register(\"url_name\", { required: true, minLength: 2, maxLength: 500 })\r\n   let img_urlRef = register(\"img_url\", { required: true, minLength: 3, maxLength: 500 })\r\n \r\n   const onSubForm = (formData) => {\r\n     // console.log(formData);\r\n     setBtnSend(true);\r\n     doFormApi(formData);\r\n   }\r\n \r\n   const doFormApi = async (formData) => {\r\n     let url = API_URL + \"/categories\";\r\n     try {\r\n       let resp = await doApiMethod(url, \"POST\", formData);\r\n       // console.log(resp.data);\r\n       if (resp.data._id) {\r\n        \r\n         toast.success(\"Category added\")\r\n         // back to the list of products in the admin panel\r\n         nav(\"/admin/categories\")\r\n       }\r\n     }\r\n     catch (err) {\r\n       console.log(err.response);\r\n       alert(\"There problem try again later\")\r\n       nav(\"/admin/categories\")\r\n     }\r\n   }\r\n \r\n   return (\r\n     <div className='container'>\r\n       <AuthAdminComp />\r\n       <h1>Add new category</h1>\r\n       <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n         <label>Name:</label>\r\n         <input {...nameRef} type=\"text\" className='form-control' />\r\n         {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n         <label>url name:</label>\r\n         <input {...url_nameRef} type=\"text\"  className='form-control' />\r\n         {errors.url_name ? <small className='text-danger d-block'>* Enter valid url name, between 1 to 500 chars</small> : \"\"}\r\n\r\n         <label>Image url:</label>\r\n         <input {...img_urlRef} type=\"text\"  className='form-control' />\r\n         {errors.img_url ? <small className='text-danger d-block'>* Enter valid url for image, between 1 to 500 chars</small> : \"\"}\r\n \r\n\r\n         {/* disable-> if true user cant click */}\r\n         <button className='mt-4' disabled={btnSend}>Add new category</button>\r\n       </form>\r\n     </div>\r\n   )\r\n}\r\n\r\nexport default AddCategory","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction AddProduct(props) {\r\n  // categoried data the will load from api request\r\n  let [cat_ar, setCatAr] = useState([]);\r\n  // for disabled the send btn for avoid multi click on him\r\n  let [btnSend,setBtnSend] = useState(false)\r\n\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n  let infoRef = register(\"info\", { required: true, minLength: 2, maxLength: 500 })\r\n  let priceRef = register(\"price\", { required: true, min: 1, max: 999999 })\r\n  let cat_short_idRef = register(\"cat_short_id\", { required: true, minLength: 1, maxLength: 99 })\r\n  let img_urlRef = register(\"img_url\", { required: false, minLength: 3, maxLength: 500 })\r\n  let conditionRef = register(\"condition\", { required: false, minLength: 3, maxLength: 100 })\r\n  // qty - amount of product in the store\r\n  let qtyRef = register(\"qty\", { required: true, min: 1, max: 9999 })\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  }, [])\r\n\r\n  // get the catgories for select box\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/categories\";\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setCatAr(resp.data);\r\n  }\r\n\r\n  const onSubForm = (formData) => {\r\n    // console.log(formData);\r\n    setBtnSend(true);\r\n    doFormApi(formData);\r\n  }\r\n\r\n  const doFormApi = async (formData) => {\r\n    let url = API_URL + \"/products\";\r\n    try {\r\n      let resp = await doApiMethod(url, \"POST\", formData);\r\n      // console.log(resp.data);\r\n      if (resp.data._id) {\r\n        toast.success(\"Product added\");\r\n        // back to the list of products in the admin panel\r\n        nav(\"/admin/products\")\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err.response);\r\n      alert(\"There problem try again later\")\r\n      nav(\"/admin/products\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>Add new product</h1>\r\n      <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n        <label>Name:</label>\r\n        <input {...nameRef} type=\"text\" className='form-control' />\r\n        {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n        <label>Info:</label>\r\n        <textarea {...infoRef} className='form-control' rows=\"3\"></textarea>\r\n        {errors.info ? <small className='text-danger d-block'>* Enter valid info, 3 to 500 chars</small> : \"\"}\r\n\r\n        <label>Price:</label>\r\n        <input {...priceRef} type=\"number\" defaultValue=\"50\" className='form-control' />\r\n        {errors.price ? <small className='text-danger d-block'>* Enter valid  price, between 1 to 999999</small> : \"\"}\r\n\r\n        <label>Qty (amount in the stock):</label>\r\n        <input {...qtyRef} type=\"number\" defaultValue=\"1\" className='form-control' />\r\n        {errors.qty ? <small className='text-danger d-block'>* Enter valid  qty, between 1 to 9999</small> : \"\"}\r\n\r\n        <label>Category:</label>\r\n        <select {...cat_short_idRef}  className='form-select'>\r\n          <option  value=\"\" >Choose Category</option>\r\n          {cat_ar.map(item => {\r\n            return (\r\n              <option key={item._id} value={item.short_id}>{item.name}</option>\r\n            )\r\n          })}\r\n          {/* loop from api of category */}\r\n        </select>\r\n        {errors.cat_short_id ? <small className='text-danger d-block'>You must choose category from the list </small> : \"\"}\r\n\r\n        <label>Img url:</label>\r\n        <input {...img_urlRef} type=\"text\" className='form-control' />\r\n        {errors.img_url ? <small className='text-danger d-block'>* Enter valid  img url </small> : \"\"}\r\n\r\n        <label>Condition:</label>\r\n        <select  {...conditionRef} className='form-select'>\r\n          <option value=\"new\">Brand New</option>\r\n          <option value=\"like new\">Like New</option>\r\n          <option value=\"used\">Used</option>\r\n          <option value=\"broken\">Broken</option>\r\n        </select>\r\n        {/* disable-> if true user cant click */}\r\n        <button disabled={btnSend}>Add new product</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProduct","import React, { useEffect , useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction CategoriesList(props){\r\n  let [ar,setAr] = useState([]);\r\n  let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() =>{\r\n    let url = API_URL + \"/categories\";\r\n    try{\r\n      let resp = await doApiGet(url);\r\n      // console.log(resp.data);\r\n      setAr(resp.data);\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  const delCategory = async(_idDel) => {\r\n    if(window.confirm(\"Are you sure you want to delete?\")){\r\n      try{\r\n        let url = API_URL+\"/categories/\"+_idDel;\r\n        let resp = await doApiMethod(url,\"DELETE\",{});\r\n        console.log(resp.data);\r\n        if(resp.data.deletedCount){\r\n          toast.info(\"Category delted !\");\r\n        }\r\n        // for show the new list without the product that we deleted\r\n        doApi();\r\n      }\r\n      catch(err){\r\n        console.log(err.response);\r\n        alert(\"there problem , try again later\")\r\n      }\r\n    }\r\n  }\r\n \r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>List of Categoires in system</h1>\r\n      <Link className='btn btn-success' to=\"/admin/addcategory\">Add new Category</Link>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>url_name</th>\r\n            <th>short_id</th>\r\n            <th>del/edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n              <tr key={item._id}>\r\n                <td>{i+1}</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.url_name}</td>\r\n                <td>{item.short_id}</td>\r\n        \r\n                <td>\r\n                  <button onClick={() => {delCategory(item._id)}} className='badge bg-danger'>X</button>\r\n                  <button onClick={() => {\r\n                    nav(\"/admin/editCategory/\"+item.url_name)\r\n                  }} className='badge bg-info'>Edit</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {ar.length === 0 ? <h2>Loading...</h2> : \"\"}\r\n      </div> \r\n  )\r\n}\r\n\r\nexport default CategoriesList;","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService'\r\n\r\nfunction EditCategory(props){\r\n  let [category,setCategory] = useState({})\r\n   // for disabled the send btn for avoid multi click on him\r\n   let [btnSend,setBtnSend] = useState(false)\r\n   let params = useParams();\r\n \r\n   let nav = useNavigate()\r\n   let { register, handleSubmit, formState: { errors } } = useForm();\r\n \r\n   let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n   let url_nameRef = register(\"url_name\", { required: true, minLength: 2, maxLength: 500 })\r\n   let img_urlRef = register(\"img_url\", { required: true, minLength: 3, maxLength: 500 })\r\n \r\n   \r\n  useEffect(()=> {\r\n    doApi();\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    let urlProduct = API_URL+\"/categories/single/\"+params.url_name;\r\n    let resp2 = await doApiGet(urlProduct);\r\n    console.log(resp2.data)\r\n    setCategory(resp2.data);\r\n  }\r\n\r\n   const onSubForm = (formData) => {\r\n     // console.log(formData);\r\n    //  setBtnSend(true);\r\n     doFormApi(formData);\r\n   }\r\n \r\n   const doFormApi = async (formData) => {\r\n     let url = API_URL + \"/categories/\"+category._id;\r\n     try {\r\n       let resp = await doApiMethod(url, \"PUT\", formData);\r\n       // console.log(resp.data);\r\n       if (resp.data.modifiedCount) {\r\n         toast.success(\"Category updated\");\r\n         // back to the list of products in the admin panel\r\n         nav(\"/admin/categories\")\r\n       }\r\n       else{\r\n         toast.warning(\"you not change nothing\")\r\n       }\r\n     }\r\n     catch (err) {\r\n       console.log(err.response);\r\n       alert(\"There problem try again later\")\r\n       nav(\"/admin/categories\")\r\n     }\r\n   }\r\n \r\n   return (\r\n     <div className='container'>\r\n       <AuthAdminComp /> \r\n       <h1>Edit category</h1>\r\n       {(category._id) ? \r\n       <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n         <label>Name:</label>\r\n         <input defaultValue={category.name} {...nameRef} type=\"text\" className='form-control' />\r\n         {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n         <label>url name:</label>\r\n         <input defaultValue={category.url_name} {...url_nameRef} type=\"text\"  className='form-control' />\r\n         {errors.url_name ? <small className='text-danger d-block'>* Enter valid url name, between 1 to 500 chars</small> : \"\"}\r\n\r\n         <label>Image url:</label>\r\n         <input defaultValue={category.img_url} {...img_urlRef} type=\"text\"  className='form-control' />\r\n         {errors.img_url ? <small className='text-danger d-block'>* Enter valid url for image, between 1 to 500 chars</small> : \"\"}\r\n \r\n\r\n\r\n         {/* disable-> if true user cant click */}\r\n         <button className='mt-4 btn btn-warning' disabled={btnSend}>update category</button>\r\n       </form> : <h2>Loading...</h2> }\r\n     </div>\r\n   )\r\n}\r\n\r\nexport default EditCategory","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction EditProduct(props) {\r\n  let [cat_ar, setCatAr] = useState([]);\r\n  // the props of the products we want to edit\r\n  let [product,setProduct] = useState({});\r\n  let params = useParams();\r\n\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n  let infoRef = register(\"info\", { required: true, minLength: 2, maxLength: 500 })\r\n  let priceRef = register(\"price\", { required: true, min: 1, max: 999999 })\r\n  let cat_short_idRef = register(\"cat_short_id\", { required: true, minLength: 1, maxLength: 99 })\r\n  let img_urlRef = register(\"img_url\", { required: false, minLength: 3, maxLength: 500 })\r\n  let conditionRef = register(\"condition\", { required: false, minLength: 3, maxLength: 100 })\r\n  let qtyRef = register(\"qty\", { required: true, min: 1, max: 9999 })\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  }, [])\r\n\r\n  // get the catgories for select box and also data of the product we want edit\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/categories\";\r\n    let resp = await doApiGet(url);\r\n    // console.log(resp.data);\r\n    setCatAr(resp.data);\r\n\r\n    // get product props from api \r\n    let urlProduct = API_URL+\"/products/single/\"+params.id;\r\n    let resp2 = await doApiGet(urlProduct);\r\n    console.log(resp2.data)\r\n    setProduct(resp2.data);\r\n\r\n  }\r\n\r\n  const onSubForm = (formData) => {\r\n    // console.log(formData);\r\n    doFormApi(formData);\r\n  }\r\n\r\n  const doFormApi = async (formData) => {\r\n    let url = API_URL + \"/products/\"+params.id;\r\n    try {\r\n      let resp = await doApiMethod(url, \"PUT\", formData);\r\n      // console.log(resp.data);\r\n      if (resp.data.modifiedCount) {\r\n        toast.success(\"Product updated\");\r\n        // back to the list of products in the admin panel\r\n        nav(\"/admin/products\")\r\n      }\r\n      else{\r\n        toast.warning(\"You not change nothing for update.\")\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err.response);\r\n      alert(\"There problem try again later\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>Edit product</h1>\r\n      {/* if product._id is true its mean that the product\r\n      object get the all data from the api and with this check\r\n      we avoid from blank memory of inputs  */}\r\n      {(product._id) ?\r\n      <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n        <label>Name:</label>\r\n        <input defaultValue={product.name} {...nameRef} type=\"text\" className='form-control' />\r\n        {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n        <label>Info:</label>\r\n        <textarea defaultValue={product.info} {...infoRef} className='form-control' rows=\"3\"></textarea>\r\n        {errors.info ? <small className='text-danger d-block'>* Enter valid info, 3 to 500 chars</small> : \"\"}\r\n\r\n        <label>Price:</label>\r\n        <input defaultValue={product.price} {...priceRef} type=\"number\"  className='form-control' />\r\n        {errors.price ? <small className='text-danger d-block'>* Enter valid  price, between 1 to 999999</small> : \"\"}\r\n\r\n        <label>Qty (amount in the stock):</label>\r\n        <input defaultValue={product.qty} {...qtyRef} type=\"number\" className='form-control' />\r\n        {errors.qty ? <small className='text-danger d-block'>* Enter valid  qty, between 1 to 9999</small> : \"\"}\r\n\r\n        <label>Category:</label>\r\n        {/* DefaultValue - what to choose in the start from the options */}\r\n        <select defaultValue={product.cat_short_id} {...cat_short_idRef}  className='form-select'>\r\n          <option  value=\"\" >Choose Category</option>\r\n          {cat_ar.map(item => {\r\n            return (\r\n              <option key={item._id} value={item.short_id}>{item.name}</option>\r\n            ) \r\n          })}\r\n          {/* loop from api of category */}\r\n        </select>\r\n        {errors.cat_short_id ? <small className='text-danger d-block'>You must choose category from the list </small> : \"\"}\r\n\r\n        <label>Img url:</label>\r\n        <input defaultValue={product.img_url} {...img_urlRef} type=\"text\" className='form-control' />\r\n        {errors.img_url ? <small className='text-danger d-block'>* Enter valid  img url </small> : \"\"}\r\n\r\n        <label>Condition:</label>\r\n        <select defaultValue={product.condition} {...conditionRef} className='form-select'>\r\n          <option value=\"new\">Brand New</option>\r\n          <option value=\"like new\">Like New</option>\r\n          <option value=\"used\">Used</option>\r\n          <option value=\"broken\">Broken</option>\r\n        </select>\r\n        <button className='btn btn-info me-2'>Update Product</button>\r\n        <Link className='btn btn-danger' to=\"/admin/products\">Canel</Link>\r\n      </form> : <h2>Loading...</h2> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditProduct","import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction HeaderAdmin(props){\r\n  let nav = useNavigate()\r\n\r\n  const onLogOutClick = () => {\r\n    if(window.confirm(\"Are you sure you want to logout?\")){\r\n      nav(\"/admin/logout\");\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className='header_admin container-fluid bg-dark d-flex align-items-center'>\r\n      <h2 className='text-white col-auto me-4'>Admin panel</h2>\r\n      <nav className='col-md-9'>\r\n        <Link to=\"/admin/products\" >Products</Link>\r\n        <Link to=\"/admin/categories\" >Categories</Link>\r\n        <Link to=\"/admin/users\" >Users</Link>\r\n        <Link to=\"/admin/checkout\" >Checkout</Link>\r\n\r\n        {/* we cant do nav command to Link comp */}\r\n        {localStorage[\"tok\"] ? \r\n        <button onClick={onLogOutClick} className='badge bg-danger float-md-end '>Log out</button> : \"\" }\r\n      </nav>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default HeaderAdmin","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport HeaderAdmin from './headerAdmin';\r\nimport \"./admin.css\"\r\n\r\nfunction LayoutAdmin(props){\r\n  return(\r\n    <React.Fragment>\r\n      <HeaderAdmin />\r\n      <Outlet />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default LayoutAdmin","import React from 'react';\r\nimport {useForm} from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiMethod } from '../services/apiService';\r\n\r\nfunction LoginAdmin(props){\r\n  let nav = useNavigate()\r\n  let {register , handleSubmit ,  formState: { errors } } = useForm();\r\n\r\n  const onSubForm = (data) => {\r\n    // data = the inputs in the form with ref in 1 object\r\n    console.log(data);\r\n    doApi(data)\r\n  }\r\n\r\n  const doApi = async(_dataBody) => {\r\n    let url = API_URL + \"/users/login\"\r\n    try{\r\n    let resp = await doApiMethod(url, \"POST\" ,_dataBody);\r\n    console.log(resp.data);\r\n      if(resp.data.token){\r\n        localStorage.setItem(\"tok\",resp.data.token);\r\n        // send user to product list\r\n        nav(\"/admin/products\");\r\n        toast.info(\"Welcome back to admin panel!\");\r\n      }\r\n      else{\r\n        \r\n        toast.error(\"There some error come back later...\");\r\n      }\r\n    }\r\n    catch(err){\r\n      toast.error(err.response.data.err);\r\n      // err.response.data -> collect error with axios\r\n      console.log(err.response.data)\r\n    }\r\n  }\r\n\r\n  let emailRef = register(\"email\",{\r\n    required:true,  \r\n    pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n  })\r\n \r\n  let passwordRef =  register(\"password\",{required:true, minLength:3}) ;\r\n\r\n  return(\r\n    <div className='container'>\r\n      <h1>Login to system</h1>\r\n      <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 border'>\r\n        <label>Email:</label>\r\n        <input {...emailRef} type=\"text\" className='form-control' />\r\n        {errors.email ? <small className='text-danger d-block'>* Email invalid</small> : \"\"}\r\n        <label>Password:</label>\r\n        <input {...passwordRef} type=\"text\" className='form-control' />\r\n        {errors.password ? <small className='text-danger d-block'>* Enter valid password, min 3 chars</small> : \"\"}\r\n        <button className='btn btn-info mt-4'>Login</button>\r\n      </form>  \r\n    </div> \r\n  )\r\n}\r\n\r\nexport default LoginAdmin","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { useEffect } from 'react/cjs/react.development';\r\n\r\nfunction LogoutAdmin(props){\r\n  let nav = useNavigate();\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"tok\");\r\n    toast.info(\"You log out from system, see you later\")\r\n    nav(\"/admin\");\r\n  },[])\r\n\r\n  return(\r\n    <div>Please wait... you log out.</div> \r\n  )\r\n}\r\n\r\nexport default LogoutAdmin","import React ,{ useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\n\r\nfunction PageLinks(props){\r\n  const nav = useNavigate();\r\n  const [pages,setPages] = useState(0)\r\n\r\n  useEffect(() => {\r\n\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    let url = props.apiUrlAmount;\r\n    let resp = await doApiGet(url);\r\n    setPages(Math.ceil(resp.data.amount / props.perPage));\r\n  }\r\n\r\n\r\n  return(\r\n    <div className='my-3'>\r\n      <span>page: </span>\r\n      {/* [...Array(pages)] - createa array from number var that we can do map/loop on him */}\r\n      {[...Array(pages)].map((item,i) => {\r\n        return(\r\n          <button key={i} className={props.clsCss} onClick={() => {\r\n            nav(props.urlLinkTo+\"?page=\"+(i+1))\r\n          }}>{i + 1}</button>\r\n        )\r\n      })}\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default PageLinks","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport PageLinks from '../misc_comps/pageLinks';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\n\r\n\r\n\r\nfunction ProductsAdminList(props){\r\n  let [ar,setAr] = useState([]);\r\n  let [numPage,setPageNum] = useState(1);\r\n  let [catObj,setCatObj] = useState({})\r\n  let nav = useNavigate();\r\n  // object with data of the current url page\r\n  let location = useLocation()\r\n  \r\n  useEffect(() => { \r\n    doApi();\r\n  },[location])\r\n\r\n  const doApi = async() => {\r\n    // get the product list from server api\r\n\r\n    try{\r\n      let url0 = API_URL + \"/categories\";\r\n      let resp0 = await doApiGet(url0);\r\n      console.log(resp0.data);\r\n      let temp_ar = resp0.data;\r\n      // var that will assoiative array with short_id that equal\r\n      // to the category name categories_data[\"97548\"] -> cars\r\n      // we create it in object and not array for save memeory becuase the short id\r\n      // can be 999999 and then the system will create 999999 cells in the memory\r\n      let categories_data = {};\r\n      temp_ar.forEach(item => {\r\n        categories_data[item.short_id] = item.name;\r\n      })\r\n      console.log(\"cat\",categories_data)\r\n      setCatObj(categories_data)\r\n\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      //?page collect query string\r\n      let pageQuery = urlParams.get(\"page\") || 1;\r\n      setPageNum(pageQuery)\r\n      let url = API_URL + \"/products?page=\"+pageQuery;\r\n      let resp = await doApiGet(url);\r\n      // console.log(resp.data);\r\n      setAr(resp.data);\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  const delProduct = async(_idDel) => {\r\n    if(window.confirm(\"Are you sure you want to delete?\")){\r\n      try{\r\n        let url = API_URL+\"/products/\"+_idDel;\r\n        let resp = await doApiMethod(url,\"DELETE\",{});\r\n        console.log(resp.data);\r\n        if(resp.data.deletedCount){\r\n          toast.info(\"product delted !\");\r\n        }\r\n        // for show the new list without the product that we deleted\r\n        doApi();\r\n      }\r\n      catch(err){\r\n        console.log(err.response);\r\n        alert(\"there problem , try again later\")\r\n      }\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>List of products in system</h1>\r\n      <Link to=\"/admin/addProduct\" className=\"btn btn-success\">Add new product</Link>\r\n      {/* show page buttons \r\n      \r\n      perPage -> how many items we show per page\r\n      apiUrlAmount -> url of the api to get the amount of items\r\n      urlLinkTo -> to where to link on click on page btn\r\n      clsCss -> class for css for buttons\r\n      */}\r\n      <PageLinks perPage=\"5\" apiUrlAmount={API_URL+\"/products/amount\"} urlLinkTo={\"/admin/products\"} clsCss=\"btn btn-info me-1\" />\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>price</th>\r\n            <th>qty</th>\r\n            <th>category</th>\r\n            <th>condtion</th>\r\n            <th>short_id</th>\r\n            <th>del/edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n              <tr key={item._id}>\r\n                {/* # - change the id by the page 1-5 , 6-10... */}\r\n                <td>{(i+1) + 5 * (numPage-1) }</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.price}</td>\r\n                <td>{item.qty}</td>\r\n                {/* show the name of category and not its short_id\r\n                look on line 31+\r\n                */}\r\n                <td>{catObj[item.cat_short_id]}</td>\r\n                <td>{item.condition}</td>\r\n                <td>{item.short_id}</td>\r\n                <td>\r\n                  <button onClick={() => {delProduct(item._id)}} className='badge bg-danger'>X</button>\r\n                  <button onClick={() => {\r\n                    nav(\"/admin/editProduct/\"+item._id)\r\n                  }} className='badge bg-info'>Edit</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {ar.length === 0 ? <h2>Loading...</h2> : \"\"}\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default ProductsAdminList","import React, { useEffect , useState } from 'react';\r\n// import { Link, useNavigate } from 'react-router-dom';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction UsersList(props){\r\n  let [ar,setAr] = useState([]);\r\n  // let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() =>{\r\n    let url = API_URL + \"/users/usersList\";\r\n    try{\r\n      let resp = await doApiGet(url);\r\n      // console.log(resp.data);\r\n      setAr(resp.data);\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  const delUser = async(_idDel) => {\r\n    //TODO: del user\r\n  }\r\n\r\n  // change role user for admin or back to regular user\r\n  const changeRole = async(_userId,_role) => {\r\n    let url = API_URL + `/users/changeRole/${_userId}/${_role}`;\r\n    try{\r\n      let resp = await doApiMethod(url,\"PATCH\",{});\r\n      if(resp.data.modifiedCount){\r\n        doApi();\r\n      }\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n \r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>List of Users in system</h1>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>email</th>\r\n            <th>address</th>\r\n            <th>role</th>\r\n            <th>del</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n              <tr key={item._id}>\r\n                <td>{i+1}</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.email}</td>\r\n                <td>{item.address}</td>\r\n                <td>\r\n                  {(item.role === \"admin\") ? \r\n                  <button onClick={() => {\r\n                    changeRole(item._id, \"user\")\r\n                  }} className='btn btn-warning'>admin</button> \r\n                  : \r\n                  <button \r\n                  onClick={() => {\r\n                    changeRole(item._id, \"admin\")\r\n                  }} \r\n                  className='btn btn-dark'>user</button>\r\n                }\r\n                  \r\n                  </td>\r\n                <td>\r\n                  <button onClick={() => {delUser(item._id)}} className='badge bg-danger'>X</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {ar.length === 0 ? <h2>Loading...</h2> : \"\"}\r\n      </div> \r\n  )\r\n}\r\n\r\nexport default UsersList;","import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport PageLinks from '../misc_comps/pageLinks';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction ProductsListPage(props) {\r\n  const [ar, setAr] = useState([])\r\n  const [shortId, setShortId] = useState(0)\r\n  const [amount,setAmount] = useState(0)\r\n  const location = useLocation();\r\n\r\n  let params = useParams();\r\n\r\n  useEffect(() => {\r\n    // for show loading when we clikc pages\r\n    setAr([]);\r\n    doApi();\r\n  }, [location]);\r\n\r\n  const doApi = async () => {\r\n\r\n    // קודם כל אוסף מידע על הקטגוריה לפי היו אר אל שלה\r\n    // כדי שיהיה לי את האיי די המקוצר להביא את כל המוצרים\r\n    let urlCategory = API_URL + \"/categories/single/\" + params.cat_url;\r\n    let resp1 = await doApiGet(urlCategory);\r\n    // console.log(resp1.data);\r\n    let short_id = resp1.data?.short_id;\r\n    setShortId(short_id)\r\n\r\n    // get page number\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let pageQuery = urlParams.get(\"page\") || 1;\r\n    let urlProds = API_URL + \"/products/?perPage=8&cat=\" + short_id + \"&page=\" + pageQuery;\r\n    let resp2 = await doApiGet(urlProds)\r\n    // console.log(resp2.data);\r\n\r\n    setAr(resp2.data)\r\n\r\n    // check amount of produts of category:\r\n    let urlAmounts = API_URL + \"/products/amount?cat=\" + short_id;\r\n    let resp3 = await doApiGet(urlAmounts);\r\n    setAmount(resp3.data.amount)\r\n  }\r\n  // TODO: ADD PAGENATION\r\n  return (\r\n    <div className='container-fluid' style={{ minHeight: \"85vh\" }}>\r\n      <div className=\"container\">\r\n        <h1 className='text-center my-4'>Categories of {params.cat_url}</h1>\r\n        {ar.length == 0 ? <h2 className='text-center'>Loading...</h2> : \"\"}\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <ProducItem key={item._id} item={item} />\r\n            )\r\n          })}\r\n        </div>\r\n        {amount < 9 ? \"\" :\r\n          <PageLinks perPage=\"8\" apiUrlAmount={API_URL + \"/products/amount?cat=\" + shortId} urlLinkTo={\"/products/\"+params.cat_url} clsCss=\"btn btn-dark me-1\" />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductsListPage","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction InfoProductsList(props){\r\n  let [ar,setAr] = useState([]);\r\n  let params = useParams();\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() =>{ \r\n    let url = API_URL+\"/products?perPage=5&cat=\"+props.\r\n    cat_short_id;\r\n\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    \r\n\r\n    // check if we are in the product page\r\n    // not show it again in the list of new products\r\n    // in first time\r\n    let temp_ar = resp.data;\r\n    temp_ar = temp_ar.filter(item => {\r\n\r\n      return item._id != params.id;\r\n    })\r\n    if(temp_ar.length > 4){\r\n      temp_ar.pop();\r\n    }\r\n     \r\n  \r\n    setAr(temp_ar);\r\n  }\r\n  \r\n  return(\r\n    <div className='my-5'>\r\n      <h2 className='text-center'>\r\n        New products in our store\r\n      </h2>\r\n      <div className=\"row\">\r\n        {ar.map(item => {\r\n          return(\r\n            <ProducItem key={item._id} item={item} />\r\n          )\r\n        })}\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default InfoProductsList","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport { addProdVisitedToLocal } from '../services/localService';\r\nimport InfoProductsList from './infoProductsList';\r\nimport { BsCart3} from \"react-icons/bs\"\r\nimport {AppContext} from \"../context/shopContext\"\r\n\r\nfunction ProductInfo(props){\r\n  const {addToCart } = useContext(AppContext);\r\n  const [product,setProduct] = useState({});\r\n  let params = useParams();\r\n  let nav = useNavigate();\r\n  let location = useLocation();\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[location])\r\n\r\n  const doApi = async() => {\r\n    let url = API_URL + \"/products/single/\"+params.id;\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n     setProduct(resp.data)\r\n    //  save in visited in local\r\n     addProdVisitedToLocal(resp.data.short_id)\r\n  }\r\n\r\n  const onAddToCartClick = () => {\r\n    // ...cart_ar - take all cell from the old and add new\r\n    // product\r\n    addToCart(product)\r\n  }\r\n\r\n  return(\r\n    <div className='container p-4' style={{minHeight:\"85vh\"}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4\">\r\n          {/* img-fluid - real width of pics or width 100%  */}\r\n            <img src={product.img_url || \"/images/cover.jpg\"} alt={product.name} className='img-fluid img-thumbnail shadow' />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <h2 className='display-4'>{product.name}</h2>\r\n          <p><strong>Info:</strong> {product.info}</p>\r\n          <h3>Price: {product.price} nis</h3>\r\n          <h3>Condition: {product.condition}</h3>\r\n          <h4>Quantity: {product.qty} </h4>\r\n          <button onClick={() => {\r\n            nav(-1);\r\n          }} className='btn btn-dark'>Back</button>\r\n          {product.qty > 0 ? \r\n          <button onClick={onAddToCartClick} className=\"btn btn-info ms-2\">Add to cart \r\n          <BsCart3 className=\"ms-2 mb-1\"/>+\r\n          </button> :\r\n           <button  className=\"btn btn-danger ms-2\">SOLD OUT!!!\r\n          \r\n           </button>\r\n          }\r\n        </div>\r\n      </div>\r\n      {product.cat_short_id ? \r\n      <InfoProductsList cat_short_id={product.cat_short_id} />\r\n      : \"\" }\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default ProductInfo","import React from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiMethod } from '../../services/apiService';\r\n\r\nfunction SignUpClient(props) {\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubForm = (data) => {\r\n    // data = the inputs in the form with ref in 1 object\r\n    console.log(data);\r\n    doApi(data)\r\n  }\r\n  const doApi = async (_dataBody) => {\r\n    let url = API_URL + \"/users/\";\r\n    try {\r\n      let resp = await doApiMethod(url, \"POST\", _dataBody);\r\n      if (resp.data._id) {\r\n        toast.success(\"You sign up\");\r\n        nav(\"/login\");\r\n      }\r\n    }\r\n    catch(err){\r\n      if(err.response.data.code == 11000){\r\n          toast.error(\"Email already in system , try log in\")\r\n      }\r\n      else{\r\n        alert(\"There problem , try come back later\")\r\n      }\r\n      // if(err.responose.code == 11000){\r\n      // }\r\n      // console.log(err)\r\n    }\r\n  }\r\n\r\n\r\nlet nameRef = register(\"name\", { required: true, minLength: 2 });\r\nlet emailRef = register(\"email\", {\r\n  required: true,\r\n  pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n})\r\n\r\nlet passwordRef = register(\"password\", { required: true, minLength: 3 });\r\nlet addressRef = register(\"address\", { required: false, minLength: 2 });\r\nlet phoneRef = register(\"phone\", { required: false, minLength: 9 });\r\n\r\n\r\nreturn (\r\n  <div className='container col-md-6 mx-auto my-5'>\r\n    <h1>Sign up to the store</h1>\r\n    <form onSubmit={handleSubmit(onSubForm)} className='col-12 p-3 border'>\r\n      <label>* Name:</label>\r\n      <input {...nameRef} type=\"text\" className='form-control' />\r\n      {errors.name ? <small className='text-danger d-block'>* Enter valid name, min 2 chars</small> : \"\"}\r\n      <label>* Email:</label>\r\n      <input {...emailRef} type=\"text\" className='form-control' />\r\n      {errors.email ? <small className='text-danger d-block'>* Email invalid</small> : \"\"}\r\n      <label>* Password:</label>\r\n      <input {...passwordRef} type=\"text\" className='form-control' />\r\n      {errors.password ? <small className='text-danger d-block'>* Enter valid password, min 3 chars</small> : \"\"}\r\n      <label>Address:</label>\r\n      <input {...addressRef} type=\"text\" className='form-control' />\r\n      {errors.address ? <small className='text-danger d-block'>* Enter valid address, min 2 chars</small> : \"\"}\r\n      <label>Phone:</label>\r\n      <input {...phoneRef} type=\"text\" className='form-control' />\r\n      {errors.phone ? <small className='text-danger d-block'>* Enter valid phone number, min 9 numbers</small> : \"\"}\r\n\r\n      <button className='btn btn-info mt-4'>Sign up</button>\r\n    </form>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default SignUpClient","import React, { useContext } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiMethod } from '../../services/apiService';\r\nimport { saveTokenLocal } from '../../services/localService';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction LogInClient(props){\r\n  const {doFavApi} = useContext(AppContext)\r\n\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubForm = (data) => {\r\n    // data = the inputs in the form with ref in 1 object\r\n    console.log(data);\r\n    doApi(data)\r\n  }\r\n  const doApi = async (_dataBody) => {\r\n    let url = API_URL + \"/users/login\";\r\n    try {\r\n      let resp = await doApiMethod(url, \"POST\", _dataBody);\r\n      if (resp.data.token) {\r\n        toast.success(\"You logged in\");\r\n        saveTokenLocal(resp.data.token);\r\n        nav(\"/\");\r\n        doFavApi();\r\n      }\r\n    }\r\n    catch(err){\r\n      \r\n      \r\n      toast.error(\"User password not match, or there another problem\")\r\n      \r\n      \r\n    }\r\n  }\r\n\r\n  let emailRef = register(\"email\", {\r\n    required: true,\r\n    pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n  })\r\n  \r\n  let passwordRef = register(\"password\", { required: true, minLength: 3 });\r\n\r\n  return(\r\n    <div className='container col-md-6 mx-auto my-5'>\r\n    <h1>Login to the store</h1>\r\n    <form onSubmit={handleSubmit(onSubForm)} className='col-12 p-3 border'>\r\n     \r\n      <label>* Email:</label>\r\n      <input {...emailRef} type=\"text\" className='form-control' />\r\n      {errors.email ? <small className='text-danger d-block'>* Email invalid</small> : \"\"}\r\n      <label>* Password:</label>\r\n      <input {...passwordRef} type=\"text\" className='form-control' />\r\n      {errors.password ? <small className='text-danger d-block'>* Enter valid password, min 3 chars</small> : \"\"}\r\n      \r\n\r\n      <button className='btn btn-success mt-5'>Log in</button>\r\n    </form>\r\n  </div> \r\n  )\r\n}\r\n\r\nexport default LogInClient","import React, { useContext, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { deleteToken } from '../../services/localService';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction LogoutClient(props){\r\n  const {doFavApi} = useContext(AppContext)\r\n  let nav = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Logout the user from system and send him to home page\r\n    deleteToken();\r\n    toast.info(\"You logged out from system , see you soon!\")\r\n    nav(\"/\");\r\n    doFavApi();\r\n  },[])\r\n\r\n  return(\r\n    <div></div> \r\n  )\r\n}\r\n\r\nexport default LogoutClient","import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\nimport { SHOP_TOKEN } from '../../services/localService';\r\n\r\nfunction AuthClientComp(props) {\r\n\r\n  let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    if (localStorage[SHOP_TOKEN]) {\r\n      doApiAuth();\r\n    }\r\n    else {\r\n      // nav to login\r\n      nav(\"/login\")\r\n      // show toast message in yellow that the user must be connected    \r\n      toast.warning(\"You must be logged in user to be here, please log in and come back\")\r\n    }\r\n  }, [])\r\n\r\n  // check the token of user\r\n  const doApiAuth = async () => {\r\n    let url = API_URL + \"/users/checkUserToken\";\r\n    try {\r\n      let data = await doApiGet(url);\r\n      console.log(data);\r\n    }\r\n    catch (err) {\r\n      toast.warning(\"You need to log in again.\")\r\n      nav(\"/logout\")\r\n      console.log(err.response);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment></React.Fragment>\r\n  )\r\n}\r\n\r\nexport default AuthClientComp","import React, { useEffect, useState } from 'react';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\nimport ProducItem from '../productItem';\r\nimport AuthClientComp from './authClientComp';\r\n\r\nfunction FavsProducts(props) {\r\n  let [ar,setAr] = useState([])\r\n\r\n\r\n  useEffect(() => {\r\n   \r\n    doApiListFav()\r\n  },[])\r\n\r\n  const doApiListFav = async() => {\r\n    let url = API_URL+\"/favs/productsInfo\";\r\n    let resp = await doApiGet(url)\r\n    console.log(resp.data);\r\n    setAr(resp.data)\r\n  }\r\n\r\n  return (\r\n    <div className='container-fluid' style={{ minHeight: \"85vh\" }}>\r\n      <div className=\"container\">\r\n        <AuthClientComp />\r\n        <h1 className='text-center'>List of products that you added to favorites</h1>\r\n        <h4 className='text-center'>Click on star to remove them from the list</h4>\r\n        {ar.length == 0 ? <h2 className='text-center'>Loading...</h2> : \"\"}\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <ProducItem key={item._id} item={item} />\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FavsProducts","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction SearchProducts(props){\r\n  const [ar,setAr] = useState([]); \r\n  const [whatSearch,setWhatSearch] = useState(\"\");\r\n  const [showLoading, setShowLoading] = useState(true);\r\n  let location = useLocation();\r\n  \r\n  useEffect(() => {\r\n    setShowLoading(true);\r\n    doApi()\r\n  },[location])\r\n\r\n  //?s=\r\n  const doApi = async() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let searchQuery = urlParams.get(\"s\") || \"\";\r\n    setWhatSearch(searchQuery);\r\n    let url = API_URL+\"/products/search?s=\"+searchQuery;\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setShowLoading(false);\r\n    setAr(resp.data);\r\n  }\r\n\r\n  return(\r\n    <div className='container-fluid pb-4' style={{ minHeight: \"85vh\" }}>\r\n      <div className=\"container\">\r\n        <h1 className='text-center my-4'>Search for \"{whatSearch}\":</h1>\r\n        {showLoading ? <h2 className='text-center'>Loading...</h2> : \"\"}\r\n        {ar.length == 0 && !showLoading ? <h2 className='text-center'>Search not match, try another query</h2> : \"\"}\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <ProducItem key={item._id} item={item} />\r\n            )\r\n          })}\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchProducts","import React from 'react';\r\n\r\nfunction Page404(props){\r\n  return(\r\n    <div className='container p-4' style={{minHeight:\"85vh\"}}>\r\n      <h2>Page not found ! 404</h2>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Page404","import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction CheckoutItem(props){\r\n  let nav = useNavigate();\r\n  let item = props.item;\r\n  return(\r\n    <tr>\r\n      <td>{props.index+1}</td>\r\n      <td>{item.status}</td>\r\n      <td>{item.name}</td>\r\n      <td>{item.address}</td>\r\n      <td>{item.total_price}</td>\r\n      <td>{item.products_ar.length}</td>\r\n      <td>\r\n        {/* <button className='badge bg-danger'>del</button> */}\r\n        <button onClick={() => {\r\n          nav(\"/admin/checkoutInfo/\"+item._id);\r\n        }} to=\"/\" className='badge bg-info'>info</button>\r\n      </td>\r\n    </tr> \r\n  )\r\n}\r\n\r\nexport default CheckoutItem;","import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useSearchParams } from 'react-router-dom';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport PageLinks from '../misc_comps/pageLinks';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport CheckoutItem from './checkoutItem';\r\n\r\nfunction CheckoutListAdmin(props){\r\n  const [ar,setAr] = useState([]);\r\n  // for collect query string from url like ?page=\r\n  const [query] = useSearchParams()\r\n  const location = useLocation();\r\n  const [page,setPage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[location])\r\n\r\n  const doApi = async() => {\r\n    let pageQ = query.get(\"page\") || 1;\r\n    setPage(pageQ-1)\r\n\r\n    let url = API_URL+\"/orders/allOrders?page=\"+pageQ;\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setAr(resp.data); \r\n  }\r\n\r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h2>Checkout of store:</h2>\r\n      <PageLinks perPage=\"5\" apiUrlAmount={API_URL+\"/orders/allOrdersCount\"} urlLinkTo={\"/admin/checkout\"} clsCss=\"btn btn-info me-1\" />\r\n     \r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>status</th>\r\n            <th>name</th>\r\n            <th>address</th>\r\n            <th>total price</th>\r\n            <th>amount of kind of products</th>\r\n            <th>info</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n            <CheckoutItem key={item._id} item={item} index={i + page * 5}/>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default CheckoutListAdmin","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\n// show info about the order checkout\r\n// also give the option to change status\r\nfunction CheckoutInfo(props) {\r\n  let [ar, setAr] = useState([]);\r\n  let [orderInfo, setOrderInfo] = useState({});\r\n  let params = useParams();\r\n  let selectRef = useRef();\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/orders/productsInfo/\" + params.id;\r\n    let resp = await doApiGet(url);\r\n    // console.log(resp.data);\r\n    setOrderInfo(resp.data.order);\r\n    setAr(resp.data.products);\r\n  }\r\n\r\n  const onStatusChanged = async () => {\r\n    let status = selectRef.current.value;\r\n    let url = API_URL + \"/orders/\" + orderInfo._id + \"?status=\" + status;\r\n    let resp = await doApiMethod(url, \"PATCH\", {});\r\n    // console.log(resp.data);\r\n    if (resp.data.modifiedCount == 1) {\r\n      doApi();\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='container'>\r\n      <Link to=\"/admin/checkout\">back to list</Link>\r\n      { orderInfo.name ? <article>\r\n        <h2>Order info:</h2>\r\n        <h3>Name: {orderInfo.name} , Address: {orderInfo.address} , phone: {orderInfo.phone}</h3>\r\n        <h3>Status of order: {orderInfo.status}</h3>\r\n        <div className='col-md-3'>\r\n          <h4>Change status:</h4>\r\n          <select defaultValue={orderInfo.status} ref={selectRef} onChange={() => { onStatusChanged() }} className='form-select'>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"paid\">Paid</option>\r\n            <option value=\"shipped\">Shipped</option>\r\n            <option value=\"completed\">Completed</option>\r\n            <option value=\"canceld\">Canceld</option>\r\n          </select>\r\n        </div>\r\n      </article> : <h2>Loading...</h2>}\r\n      {/* TODO: option to change status \r\n        if img not found show another img\r\n      */}\r\n      <h4>Total price of order:{orderInfo.total_price} nis</h4>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>short_id</th>\r\n            <th>img</th>\r\n            <th>Price of one item</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item, i) => {\r\n            return (\r\n              <tr key={item._id}>\r\n                <td>{i + 1}</td>\r\n                <td title={item.info}>{item.name}</td>\r\n                <td>{item.short_id}</td>\r\n                <td>\r\n                  <img src={item.img_url} alt=\"pic\" height=\"50\" />\r\n                </td>\r\n                <td>{item.price}</td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutInfo","import React, { useContext, useEffect, useState } from 'react';\r\n// import { getCartFromLocal } from '../../services/localService';\r\nimport {PayPalButton} from \"react-paypal-button-v2\"\r\nimport AuthClientComp from '../users_comps/authClientComp';\r\nimport { AppContext } from \"../../context/shopContext\"\r\nimport { API_URL, doApiMethod } from '../../services/apiService';\r\n\r\nfunction Checkout(props) {\r\n  const { cart_ar, setShowCart, updateCart } = useContext(AppContext);\r\n  const [cartEmpty, setCartEmpty] = useState(false);\r\n  const [showLoading, setShowLoading] = useState(true);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setShowCart(\"none\")\r\n    // Check if there products in the cart\r\n    console.log(cart_ar)\r\n    if (cart_ar.length > 0) {\r\n      setCartEmpty(false)\r\n      setShowLoading(true)\r\n      //post the products in the db order\r\n      doApiAddToCheckout()\r\n    }\r\n    else {\r\n      setCartEmpty(true)\r\n      setShowLoading(false);\r\n    }\r\n    // get the data of the products\r\n  }, [cart_ar])\r\n\r\n  const doApiAddToCheckout = async () => {\r\n    // add to checkout\r\n    let url = API_URL + '/orders';\r\n    let total_price = 0\r\n    let products_ar = cart_ar.map(item => {\r\n      total_price += item.price;\r\n      return {\r\n        s_id: item.short_id,\r\n        amount: 1,\r\n        price: item.price\r\n      }\r\n    })\r\n    setTotal(total_price)\r\n    console.log(products_ar)\r\n    console.log(total_price);\r\n    let resp = await doApiMethod(url, \"POST\", { total_price, products_ar })\r\n    console.log(resp.data)\r\n    setShowLoading(false);\r\n  }\r\n\r\n  const onXclick = (_delProdId) => {\r\n    // delete from the cart in context the product and update it in local\r\n    let temp_ar = cart_ar.filter(prod => prod._id != _delProdId);\r\n    updateCart(temp_ar);\r\n  }\r\n\r\n  const onCommit = async () => {\r\n    if (cart_ar.length > 0) {\r\n      let url = API_URL + \"/orders/orderPaid/\"\r\n      let resp = await doApiMethod(url, \"PATCH\", {});\r\n      if (resp.data.modifiedCount == 1) {\r\n        alert(\"Your order completed\");\r\n        updateCart([]);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='container mt-3' style={{ minHeight: \"85vh\" }}>\r\n      <AuthClientComp />\r\n\r\n      {cartEmpty ? <h2>Cart is empty</h2> : \"\"}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8\">\r\n          <h3>Products in cart:</h3>\r\n          <h4>Total price: {total} nis</h4>\r\n          <table className='table table-striped'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>name</th>\r\n                <th>amount</th>\r\n                <th>price</th>\r\n                <th>del</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {cart_ar.map((item, i) => {\r\n                return (\r\n                  <tr key={item._id} title={item.info}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>1</td>\r\n                    <td>{item.price}</td>\r\n                    <td>\r\n                      <button onClick={() => { onXclick(item._id) }} className=\"badge bg-warning\">X</button>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className='col-md-4'>\r\n          {showLoading ? <h2>Loading...</h2> :\r\n            <div>\r\n              <h3>Choose paid method:</h3>\r\n              <PayPalButton\r\n                currency=\"ILS\"\r\n                amount=\"200\"\r\n                options={{\r\n                  clientId:\"Afjsz33ikSod6l7uHOgp9V590s6g27vsVO0TrHgDzqEnij7OOx2lUuQkbfqi8EgOXa7YdhYGklrqzgQd\"\r\n                }}\r\n                onSuccess={(details,data) => {\r\n                  console.log(data);\r\n                }}\r\n                onCancel={(err) => {\r\n                  alert(\"The process end before the payment, try again\")\r\n                }}\r\n              />\r\n\r\n              {/* <button onClick={() => { onCommit() }} className='btn btn-info w-100'>Commit</button> */}\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkout","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\nimport AuthClientComp from '../users_comps/authClientComp';\r\n\r\nfunction OldOrders(props){\r\n  const [ar,setAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    let url = API_URL+\"/orders/userOrder\";\r\n    let resp = await doApiGet(url);\r\n    // console.log(resp.data)\r\n    let temp_ar = resp.data.filter(item => item.status != \"pending\")\r\n    setAr(temp_ar);\r\n  }\r\n\r\n  return(\r\n    <div className='container mt-3' style={{ minHeight: \"85vh\" }}>\r\n      <AuthClientComp />\r\n      <h2>Old orders</h2>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>status</th>\r\n            <th>total price</th>\r\n            <th>Date of order</th>\r\n            <th>info</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            let date = item.date_created.replace(\"T\",\" \");\r\n            date = date.substring(0,date.indexOf(\":\")+3);\r\n\r\n            return(\r\n             <tr key={item._id}>\r\n               <td>{i+1}</td>\r\n               <td>{item.status}</td>\r\n               <td>{item.total_price}</td>\r\n               <td>{date}</td>\r\n               <td>\r\n                 <Link to={\"/oldOrders/\"+item._id}>More info</Link>\r\n               </td>\r\n             </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default OldOrders","import React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\n\r\nfunction OldOrderInfoClient(props){\r\n  let [ar, setAr] = useState([]);\r\n  let [orderInfo, setOrderInfo] = useState({});\r\n  let [orderDate,setOrderDate] = useState(\"\");\r\n  let params = useParams();\r\n \r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/orders/productsInfo/\" + params.idOrder;\r\n    let resp = await doApiGet(url);\r\n    // console.log(resp.data);\r\n    // defiendDate\r\n    let date = resp.data.order.date_created.replace(\"T\",\" \");\r\n    date = date.substring(0,date.indexOf(\":\")+3);\r\n    setOrderDate(date);\r\n    setOrderInfo(resp.data.order);\r\n    setAr(resp.data.products);\r\n  }\r\n\r\n  return(\r\n    <div className='container'>\r\n      <Link to=\"/oldOrders/\">back to list</Link>\r\n      { orderInfo.name ? <article>\r\n        <h2>Order info:</h2>\r\n        <h3>Status of order: {orderInfo.status}</h3>\r\n        <h3>Date: {orderDate}</h3>\r\n      </article> : <h2>Loading...</h2>}\r\n \r\n      <h4>Total price of order:{orderInfo.total_price} nis</h4>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>short_id</th>\r\n            <th>img</th>\r\n            <th>Price of one item</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item, i) => {\r\n            return (\r\n              <tr key={item._id}>\r\n                <td>{i + 1}</td>\r\n                <td title={item.info}>{item.name}</td>\r\n                <td>{item.short_id}</td>\r\n                <td>\r\n                  <img src={item.img_url} alt=\"pic\" height=\"50\" />\r\n                </td>\r\n                <td>{item.price}</td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OldOrderInfoClient","import React from 'react';\r\nimport { BrowserRouter as Router, Routes , Route } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Home from './comps/home';\r\nimport LayoutClient from './comps/layoutClient';\r\nimport AddCategory from './comps_admin/addCategory';\r\nimport AddProduct from './comps_admin/addProduct';\r\nimport CategoriesList from './comps_admin/categoriesList';\r\nimport EditCategory from './comps_admin/editCategory';\r\nimport EditProduct from './comps_admin/editProduct';\r\nimport LayoutAdmin from './comps_admin/layoutAdmin';\r\nimport LoginAdmin from './comps_admin/loginAdmin';\r\nimport LogoutAdmin from './comps_admin/logoutAdmin';\r\nimport ProductsAdminList from './comps_admin/productsAdminList';\r\nimport UsersList from './comps_admin/usersList';\r\nimport ProductsListPage from \"./comps/productsListPage\";\r\nimport ProductInfo from './comps/productInfo';\r\n\r\nimport SignUpClient from './comps/users_comps/signupClient';\r\nimport LogInClient from './comps/users_comps/loginClient';\r\nimport LogoutClient from './comps/users_comps/logoutClient';\r\nimport FavsProducts from './comps/users_comps/favsProducts';\r\nimport SearchProducts from './comps/searchProducts';\r\nimport Page404 from './comps/general_comps/page404';\r\nimport CheckoutListAdmin from './comps_admin/checkoutListAdmin';\r\nimport CheckoutInfo from './comps_admin/checkoutInfo';\r\nimport Checkout from './comps/orders_comps/checkout';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport OldOrders from './comps/orders_comps/oldOrders';\r\nimport OldOrderInfoClient from './comps/orders_comps/oldOrderInfoClient';\r\n\r\nfunction AppRoute(props){\r\n  return(\r\n    <Router>\r\n      <Routes>\r\n        {/* for admin user */}\r\n        <Route path=\"/admin\" element={<LayoutAdmin />}>\r\n          <Route index element={<LoginAdmin />}/>\r\n          <Route path=\"/admin/products\" element={<ProductsAdminList />}/>\r\n          <Route path=\"/admin/addProduct\" element={<AddProduct />}/>\r\n          <Route path=\"/admin/editProduct/:id\" element={<EditProduct />}/>\r\n          <Route path=\"/admin/categories\" element={<CategoriesList />}/>\r\n          <Route path=\"/admin/editCategory/:url_name\" element={<EditCategory />}/>\r\n          <Route path=\"/admin/addcategory\" element={<AddCategory />}/>\r\n          <Route path=\"/admin/users\" element={<UsersList />}/>\r\n          <Route path=\"/admin/logout\" element={<LogoutAdmin />}/>\r\n          <Route path=\"/admin/checkout\" element={<CheckoutListAdmin />}/>\r\n          <Route path=\"/admin/checkoutInfo/:id\" element={<CheckoutInfo />}/>\r\n        </Route>\r\n        {/* For regular user client path */}\r\n        <Route path=\"/\" element={<LayoutClient />}>\r\n          <Route index element={<Home />} />\r\n          <Route path=\"/products/:cat_url\" element={<ProductsListPage />}  />\r\n          <Route path=\"/productsSearch/\" element={<SearchProducts />}  />\r\n          <Route path=\"/productInfo/:id\" element={<ProductInfo />}  />\r\n          <Route path=\"/signup\" element={<SignUpClient />}  />\r\n          <Route path=\"/login\" element={<LogInClient />}  />\r\n          <Route path=\"/logout\" element={<LogoutClient />}  />\r\n          <Route path=\"/products_favs\" element={<FavsProducts />}  />\r\n          <Route path=\"/checkout\" element={<Checkout />}  />\r\n          <Route path=\"/oldOrders\" element={<OldOrders />}  />\r\n          <Route path=\"/oldOrders/:idOrder\" element={<OldOrderInfoClient />}  />\r\n         {/* * - for any url that not in another route go to 404 */}\r\n          <Route path=\"/*\" element={<Page404 />} />\r\n        </Route> \r\n      </Routes>\r\n      {/* theme='colored' make the toast message bg to be red,green... */}\r\n      <ToastContainer position=\"top-right\" theme='colored' />\r\n    </Router> \r\n  )\r\n}\r\n\r\nexport default AppRoute","// import logo from './logo.svg';\r\nimport React from 'react';\r\nimport './App.css';\r\nimport AppRoute from './appRoute';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n      <React.Fragment>\r\n        <AppRoute />\r\n      </React.Fragment>\r\n   \r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}