{"version":3,"sources":["comps/homeStrip.js","services/apiService.js","comps/homeCategoryList.js","services/localService.js","context/shopContext.js","comps/productItem.js","comps/productsHome.js","comps/home.js","comps/general_comps/clientFooter.js","comps/general_comps/clientHeader.js","comps/cart_comps/cartItem.js","comps/cart_comps/cart.js","comps/layoutClient.js","misc_comps/authAdminComp.js","comps_admin/addCategory.js","comps_admin/addProduct.js","comps_admin/categoriesList.js","comps_admin/editCategory.js","comps_admin/editProduct.js","comps_admin/headerAdmin.js","comps_admin/layoutAdmin.js","comps_admin/loginAdmin.js","comps_admin/logoutAdmin.js","misc_comps/pageLinks.js","comps_admin/productsAdminList.js","comps_admin/usersList.js","comps/productsListPage.js","comps/infoProductsList.js","comps/productInfo.js","comps/users_comps/signupClient.js","comps/users_comps/loginClient.js","comps/users_comps/logoutClient.js","comps/users_comps/authClientComp.js","comps/users_comps/favsProducts.js","comps/searchProducts.js","comps/general_comps/page404.js","comps_admin/checkoutItem.js","comps_admin/checkoutListAdmin.js","comps_admin/checkoutInfo.js","comps/orders_comps/checkout.js","comps/orders_comps/oldOrders.js","comps/orders_comps/oldOrderInfoClient.js","appRoute.js","App.js","index.js"],"names":["HomeStrip","props","style","backgroundImage","className","API_URL","doApiGet","_url","a","axios","get","headers","localStorage","data","doApiMethod","_method","_body","method","url","JSON","stringify","HomeCategoryList","useState","ar","setAr","useEffect","doApi","resp","console","log","map","item","to","url_name","img_url","name","_id","VISITED_PRODUCT","SHOP_TOKEN","CART","addProdVisitedToLocal","_short_id","local_ar","split","includes","unshift","splice","length","setItem","join","AppContext","createContext","ProducItem","useContext","favs_ar","addRemoveFav","qty","title","substring","price","short_id","onClick","ProductsHome","vistedProds","Home","Fragment","ClientFooter","ClientHeader","showCart","setShowCart","login","setLogin","navborger","setnavborger","inputRef","useRef","location","useLocation","nav","useNavigate","onKeyboardClick","e","key","onSearchClick","input_val","current","value","class","position","top","background","right","width","textAlign","border","height","onKeyDown","ref","placeholder","type","color","CartItem","cart_ar","updateCart","temp_ar","filter","prod","Cart","total","setTotal","sumTotal","forEach","display","LayoutClient","setFavsAr","setCartAr","doFavApi","parse","_newAr","_cart_ar","response","modifiedCount","toast","info","error","Provider","addToCart","_newItem","inCart","AuthAdminComp","role","alert","AddCategory","btnSend","setBtnSend","useForm","register","handleSubmit","errors","formState","nameRef","required","minLength","maxLength","url_nameRef","img_urlRef","doFormApi","formData","success","onSubmit","disabled","AddProduct","cat_ar","setCatAr","infoRef","priceRef","min","max","cat_short_idRef","conditionRef","qtyRef","rows","defaultValue","cat_short_id","CategoriesList","delCategory","_idDel","window","confirm","deletedCount","i","EditCategory","category","setCategory","params","useParams","urlProduct","resp2","warning","EditProduct","product","setProduct","id","condition","HeaderAdmin","LayoutAdmin","LoginAdmin","_dataBody","token","err","emailRef","pattern","passwordRef","email","password","LogoutAdmin","removeItem","PageLinks","pages","setPages","apiUrlAmount","Math","ceil","amount","perPage","Array","clsCss","urlLinkTo","ProductsAdminList","numPage","setPageNum","catObj","setCatObj","resp0","categories_data","urlParams","URLSearchParams","search","pageQuery","delProduct","UsersList","delUser","changeRole","_userId","_role","address","ProductsListPage","shortId","setShortId","setAmount","urlCategory","cat_url","resp1","urlProds","urlAmounts","resp3","minHeight","InfoProductsList","pop","ProductInfo","src","alt","SignUpClient","code","addressRef","phoneRef","phone","LogInClient","_token","LogoutClient","AuthClientComp","doApiAuth","FavsProducts","doApiListFav","SearchProducts","whatSearch","setWhatSearch","showLoading","setShowLoading","searchQuery","Page404","CheckoutItem","index","status","total_price","products_ar","CheckoutListAdmin","useSearchParams","query","page","setPage","pageQ","CheckoutInfo","orderInfo","setOrderInfo","selectRef","order","products","onStatusChanged","onChange","Checkout","cartEmpty","setCartEmpty","doApiAddToCheckout","s_id","onCommit","_data","paypalObject","tokenId","facilitatorAccessToken","orderId","orderID","realPay","_delProdId","onXclick","currency","options","clientId","onSuccess","details","onCancel","OldOrders","date","date_created","replace","indexOf","OldOrderInfoClient","orderDate","setOrderDate","idOrder","AppRoute","path","element","theme","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.559e0567.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction HomeStrip(props){\r\n  return(\r\n    <div style={{backgroundImage:\"url(https://images.unsplash.com/photo-1593277992013-05e17a5f417d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)\"}} className='strip_home container-fluid d-flex align-items-center'>\r\n {/* <div style={{backgroundImage:\"url(https://images.unsplash.com/photo-1560419015-7c427e8ae5ba?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)\"}} className='strip_home container-fluid d-flex align-items-center'> */}\r\n      <div className=\"container text-center\">\r\n        <h3 className='h1'>Welcome to The gaming world!</h3>\r\n        <h5>Shop that you can find everthing about gaming</h5>\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default HomeStrip","import axios from \"axios\";\r\n\r\n\r\n// export const API_URL = \"http://localhost:3002\";\r\nexport const API_URL = \"https://shimonshop.herokuapp.com\";\r\n\r\n\r\n\r\nexport const doApiGet = async (_url) => {\r\n  try {\r\n    let data = await axios.get(_url, {\r\n      headers: {\r\n        'x-api-key': localStorage[\"tok\"],\r\n        'content-type': \"application/json\"\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n  catch(err){\r\n    throw err\r\n  }\r\n}\r\n\r\n\r\nexport const doApiMethod = async (_url,_method,_body) => {\r\n  try {\r\n    let data = await axios({\r\n      method:_method,\r\n      url:_url,\r\n      data: JSON.stringify(_body),\r\n      headers:{\r\n        'x-api-key': localStorage[\"tok\"],\r\n        'content-type': \"application/json\"\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n  catch(err){\r\n    throw err\r\n  }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\n\r\n\r\nfunction HomeCategoryList(props) {\r\n  const [ar, setAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/categories\";\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setAr(resp.data);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className='container-fluid shadow'>\r\n      <div className='container py-4 categories_list'>\r\n        <h2 className='text-center gradi mt-3 mb-3'>categories:</h2>\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <Link to={\"/products/\"+item.url_name} key={item._id} className='myCard col-md-4 p-3'>\r\n                <div className=\"shadow  bg-dark text-white\">\r\n                  {/* check if there bg image  */}\r\n\r\n                  <div style={{ backgroundImage: `url(${item.img_url || \"/images/cover.jpg\"})` }} className='img_card'></div>\r\n                  {/* TODO:Add link */}\r\n                    \r\n                  <h3 className='p-2'>{item.name}</h3>\r\n                </div>\r\n              </Link>)\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomeCategoryList","// save short ids of products we visited in to show after in the home page\r\nexport const VISITED_PRODUCT = \"visitedProduct\";\r\nexport const SHOP_TOKEN = \"tok\";\r\nexport const CART = \"cart_shop\"\r\n\r\n\r\nexport const saveCartLocal = (_cart_ar) => {\r\n  localStorage.setItem(CART, JSON.stringify(_cart_ar))\r\n}\r\n\r\nexport const getCartFromLocal = () => {\r\n  if(localStorage[CART]){\r\n    return JSON.parse(localStorage[CART]);\r\n  }\r\n  return [];\r\n}\r\n\r\nexport const saveTokenLocal = (_token) => {\r\n  localStorage.setItem(SHOP_TOKEN, _token);\r\n}\r\n\r\nexport const checkTokenLocal = () => {\r\n  if(localStorage[SHOP_TOKEN]){\r\n    return localStorage[SHOP_TOKEN];\r\n  }\r\n  else{\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const deleteToken = () => {\r\n  localStorage.removeItem(SHOP_TOKEN)\r\n}\r\n\r\nexport const addProdVisitedToLocal = (_short_id) => {\r\n  let local_ar = localStorage[VISITED_PRODUCT] ? localStorage[VISITED_PRODUCT].split(\",\") : [];\r\n  if (!local_ar.includes(_short_id)) {\r\n    local_ar.unshift(_short_id);\r\n    local_ar.splice(4, local_ar.length);\r\n    localStorage.setItem(VISITED_PRODUCT, local_ar.join(\",\"));\r\n  }\r\n}\r\n\r\n\r\nexport const checkVisitedLocal = () => {\r\n  if (localStorage[VISITED_PRODUCT]) {\r\n    return localStorage[VISITED_PRODUCT];\r\n  }\r\n  return null;\r\n}","\r\nimport {createContext} from 'react';\r\n \r\nexport const AppContext = createContext(null);","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { BsStar, BsStarFill} from \"react-icons/bs\"\r\nimport {AppContext} from \"../context/shopContext\"\r\n\r\nfunction ProducItem(props) {\r\n  let item = props.item;\r\n  let {favs_ar,addRemoveFav} = useContext(AppContext)\r\n\r\n  return (\r\n    <div className='product-item col-md-3 p-2'>\r\n      <div className=\"shadow br\">\r\n        <div style={{ backgroundImage: `url(${item.img_url || \"/images/cover.jpg\"})` }} className='product-img'>  {item.qty === 0 ? \r\n          <div className='sold-out'>Sold out!</div> : \"\"\r\n          }</div>\r\n        <div className='p-2'>\r\n      \r\n          <h4 title={item.name}>{item.name.substring(0, 20)}{item.name.length>20?<span>...</span>:\"\"}</h4>\r\n          <div>Price: {item.price} NIS</div>\r\n          <div className='text-center my-2'>\r\n            {favs_ar.includes(item.short_id) ? \r\n            <button onClick={() => {\r\n              addRemoveFav(item.short_id)\r\n            }}  className='btn btn-warning'>\r\n              <BsStarFill className='mb-1' />\r\n            </button> : \r\n            <button onClick={() => {\r\n              addRemoveFav(item.short_id)\r\n            }} className='btn btn-dark'>\r\n              <BsStar className='mb-1' />\r\n            </button>\r\n            }\r\n            <Link className='btn btn-dark w-50 mx-1' to={\"/productInfo/\"+item._id}>More info</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProducItem","import React, { useEffect, useState } from 'react';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport { checkVisitedLocal, VISITED_PRODUCT } from '../services/localService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction ProductsHome(props){\r\n  let [ar,setAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    // check if there products saved in the local that user visited in\r\n    let vistedProds = checkVisitedLocal();\r\n    let url;\r\n    if(vistedProds){\r\n     url = API_URL+\"/products/visited?visited=\"+vistedProds;\r\n    }\r\n    else{\r\n      url = API_URL+\"/products?perPage=4\";\r\n    }\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setAr(resp.data);\r\n  }\r\n\r\n\r\n  return(\r\n    <div className='container py-4'>\r\n      {localStorage[VISITED_PRODUCT] ? \r\n        <h2 className='text-center text-info gradi'>Products you intersted in</h2> :\r\n      <h2 className='text-center'>\r\n        New products in our store\r\n      </h2>\r\n    }\r\n      <div className=\"row\">\r\n        {ar.map(item => {\r\n          return(\r\n            <ProducItem key={item._id} item={item} />\r\n          )\r\n        })}\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default ProductsHome","import React from 'react';\r\nimport HomeStrip from './homeStrip';\r\nimport \"./css/home.css\"\r\nimport HomeCategoryList from './homeCategoryList';\r\nimport ProductsHome from './productsHome';\r\n\r\nfunction Home(props){\r\n  return(\r\n    <React.Fragment>\r\n      <HomeStrip />\r\n      <HomeCategoryList />\r\n      <ProductsHome />\r\n    </React.Fragment> \r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react';\r\n\r\nfunction ClientFooter(props){\r\n  return(\r\n    <footer className='footer-client container-fluid bg-dark text-white'>\r\n      <div className=\"container text-center\">\r\n      All rights reserved to  Shimon Driham - 2022\r\n\r\n      </div>\r\n      </footer> \r\n  )\r\n}\r\n\r\nexport default ClientFooter","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { BsSearch, BsCart3} from \"react-icons/bs\"\r\n\r\nimport { checkTokenLocal } from '../../services/localService';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction ClientHeader(props) {\r\n  const {showCart,setShowCart} = useContext(AppContext)\r\n  let [login,setLogin] = useState(\"\");\r\n  let [navborger,setnavborger] = useState(\"none\");\r\n  let inputRef = useRef()\r\n  let location = useLocation();\r\n  let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    setLogin(checkTokenLocal())\r\n  },[location])\r\n\r\n  // check if we click Enter\r\n  const onKeyboardClick = (e) => {\r\n    if(e.key == \"Enter\"){\r\n      onSearchClick();\r\n    }\r\n  }\r\n\r\n  // Search button\r\n  const onSearchClick = () => {\r\n    let input_val = inputRef.current.value;\r\n    if(input_val){\r\n       nav(\"/productsSearch?s=\"+input_val);\r\n    }\r\n  }\r\n\r\n  // Hide and seek button for hamburger\r\n  const onBurgerClick = () => {\r\n    if(navborger==\"none\")setnavborger(\"block\")\r\n    else setnavborger(\"none\")\r\n  console.log(\"aaa\")\r\n  }\r\n\r\n\r\n  return (\r\n    <header className='shadow header-client container-fluid'>\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-between align-items-center\">\r\n          <div className='logo  col-auto'>\r\n            <Link to=\"/\">\r\n            <h2><i   className=\"fa fa-gamepad \" aria-hidden=\"true\"></i></h2>\r\n            </Link>\r\n          </div>\r\n          <div className='d-sm-inline-block d-md-none col-auto '><h2><button onClick={onBurgerClick}><i class=\"fa fa-bars\" aria-hidden=\"true\"></i></button></h2></div>\r\n         {navborger==\"block\"?\r\n         <div style={{position:\"absolute\" , top:\"62px\", background:\"rgba(255, 255, 255, 0.856)\" , right:\"5px\", width:\"160px\" , textAlign:\"start\" , border: \"pink solid 1px\"}} className='d-flex d-md-none flex-column align-items-center '>\r\n             <div className='search_header d-flex mt-1'>\r\n                <input style={{width:\"100px\",height:\"30px\"}} onKeyDown={onKeyboardClick} ref={inputRef} placeholder='search...' type=\"text\" className='form-control' />\r\n                <button onClick={onSearchClick} className='btn'><BsSearch className='icon1' /></button>\r\n              </div>\r\n              <div className='links_header me-md-3 d-flex flex-column'>\r\n                {/* <Link to=\"/\"><i class=\"fa fa-home\" aria-hidden=\"true\"></i> Home</Link> */}\r\n                <Link to=\"/checkout\"><i class=\"fa fa-credit-card-alt\" aria-hidden=\"true\"></i> Check Out</Link>\r\n                <Link to=\"/products_favs\"><i class=\"fa fa-star-o\" aria-hidden=\"true\"></i> Favorites</Link>\r\n                <Link to=\"/oldOrders\"><i class=\"fa fa-sort\" aria-hidden=\"true\"></i> Old orders</Link>        \r\n              </div>\r\n            \r\n                <button style={{color:\"red\", textAlign:\"start\" }}  onClick={() => {showCart === \"none\" ? setShowCart(\"block\") : setShowCart(\"none\")}} className='btn'><i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i> Cart</button>\r\n\r\n              <div className='log_in_out'>\r\n                {login ?\r\n                  <Link to=\"/logout\" ><i class=\"fa fa-sign-out\" aria-hidden=\"true\"></i> Log out</Link>\r\n                  :\r\n                  <React.Fragment >\r\n                    <Link style={{color:\"red\" }} to=\"/login\"><i  class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> Log in</Link>\r\n                    <br/>\r\n                    <Link style={{color:\"red\"}} to=\"/signup\"><i   class=\"fa fa-user-plus\" aria-hidden=\"true\"></i> Sign up</Link>\r\n                  </React.Fragment>\r\n                }\r\n              </div>\r\n            </div> :\"\"\r\n\r\n         } \r\n          <nav className='d-none d-md-block col-md-auto '>\r\n            <div className='d-md-flex align-items-center'>\r\n              <div className='links_header me-md-3'>\r\n                <Link to=\"/\"><i class=\"fa fa-home\" aria-hidden=\"true\"></i> Home</Link>\r\n                <Link to=\"/checkout\"><i class=\"fa fa-credit-card-alt\" aria-hidden=\"true\"></i> Check Out</Link>\r\n                <Link to=\"/products_favs\"><i class=\"fa fa-star-o\" aria-hidden=\"true\"></i> Favorites</Link>\r\n                <Link to=\"/oldOrders\"><i class=\"fa fa-sort\" aria-hidden=\"true\"></i> Old orders</Link>\r\n           \r\n              </div>\r\n              <div className='search_header d-flex'>\r\n                <input onKeyDown={onKeyboardClick} ref={inputRef} placeholder='search...' type=\"text\" className='form-control' />\r\n                <button onClick={onSearchClick} className='btn'><BsSearch className='icon1' /></button>\r\n               {/* cart button */}\r\n                <button onClick={() => {showCart === \"none\" ? setShowCart(\"block\") : setShowCart(\"none\")}} className='btn'><BsCart3 className='icon1' /></button>\r\n              </div>\r\n\r\n              <div className='log_in_out'>\r\n                {login ?\r\n                  <Link to=\"/logout\" ><i class=\"fa fa-sign-out\" aria-hidden=\"true\"></i> Log out</Link>\r\n                  :\r\n                  <React.Fragment>\r\n                    <Link to=\"/login\"><i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> Log in</Link>/\r\n                    <Link to=\"/signup\"><i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i> Sign up</Link>\r\n                  </React.Fragment>\r\n                }\r\n              </div>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default ClientHeader","import React, { useContext } from 'react';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction CartItem(props){\r\n  const {cart_ar, updateCart} = useContext(AppContext);\r\n  let item = props.item;\r\n\r\n   // Remove product from the cart\r\n  const onRemoveItemClick = () => {\r\n    let temp_ar = cart_ar.filter(prod => prod._id != item._id);\r\n    updateCart(temp_ar);\r\n\r\n  }\r\n\r\n  return(\r\n    <div className='border pt-2 px-2 overflow-hidden'>\r\n      <button onClick={onRemoveItemClick} className='float-end badge bg-danger ms-2'>X</button>\r\n      <h5 className='float-end'>{item.price} Nis</h5>\r\n      <h5>{item.name} </h5>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default CartItem","import React, { useContext, useEffect, useState } from 'react';\r\nimport \"../css/cart.css\";\r\nimport CartItem from './cartItem';\r\nimport {AppContext} from \"../../context/shopContext\"\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Cart(props){\r\n  const [total,setTotal] = useState(0);\r\n  const {showCart,setShowCart,cart_ar} = useContext(AppContext);\r\n\r\n//  calc the total\r\n  useEffect(()=>{\r\n    let sumTotal = 0;\r\n    cart_ar.forEach(item => {\r\n      sumTotal += item.price;\r\n    })\r\n    setTotal(sumTotal)\r\n  },[cart_ar])\r\n\r\n  return(\r\n    <div style={{display:showCart}} className='cart'>\r\n      <button className='btn btn-outline-danger close-btn' onClick={() => {\r\n        setShowCart(\"none\");\r\n      }}>close</button>\r\n      <h4 className='p-2'>Products in carts:</h4>\r\n      {cart_ar.map(item => {\r\n        return(\r\n          <CartItem key={item._id} item={item} />\r\n        )\r\n      })}\r\n      <h5 className='p-2'>Total: {total} Nis</h5>\r\n      <Link  to={\"/Checkout/\"} className='m-2 btn btn-outline-primary ToCheckout'>To Checkout</Link>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Cart","import React, { useEffect, useState } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport ClientFooter from './general_comps/clientFooter';\r\nimport ClientHeader from './general_comps/clientHeader';\r\nimport { AppContext } from \"../context/shopContext\"\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\nimport \"./css/client.css\"\r\nimport \"./css/headerFooter.css\"\r\nimport Cart from './cart_comps/cart';\r\nimport { getCartFromLocal, saveCartLocal } from '../services/localService';\r\n\r\nfunction LayoutClient(props) {\r\n  const [favs_ar, setFavsAr] = useState([]);\r\n\r\n\r\n  const [cart_ar,setCartAr] = useState([]);\r\n  const [showCart, setShowCart] = useState(\"none\");\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    doFavApi()\r\n    setCartAr(getCartFromLocal());\r\n  }, [])\r\n\r\n  const updateCart = (_newAr) => {\r\n    setCartAr(_newAr);\r\n    saveCartLocal(_newAr);\r\n  }\r\n\r\n  // add cart , but before check it the item already\r\n  // in the cart\r\n  const addToCart = (_newItem) => {\r\n    let inCart = false;\r\n    cart_ar.map(item => {\r\n      if(item._id == _newItem._id){\r\n        inCart = true;\r\n      }\r\n    })\r\n    // check if not in cart already and add it if not\r\n    if(!inCart){\r\n      updateCart([...cart_ar,_newItem])\r\n    }\r\n    setShowCart(\"block\");\r\n  }\r\n\r\n  // get data and add to global favs_ar state favs of currenct user\r\n  const doFavApi = async () => {\r\n    if (localStorage[\"tok\"]) {\r\n      let url = API_URL + \"/favs/\"\r\n      try {\r\n        let resp = await doApiGet(url);\r\n        console.log(resp.data);\r\n        if (resp.data.favs_ar) {\r\n          setFavsAr(resp.data.favs_ar);\r\n        }\r\n      }\r\n      catch (err) {\r\n        console.log(err.response)\r\n      }\r\n    }\r\n    else{\r\n      // if user not logged in will erase all favorite in the memory like in log out\r\n      setFavsAr([])\r\n    }\r\n  }\r\n// add or remove from favorites of user\r\n  const addRemoveFav = async(_short_id) => {\r\n    if (localStorage[\"tok\"]) {\r\n      let url = API_URL+\"/favs/add_remove/\"+_short_id;\r\n      try{\r\n        let resp = await doApiMethod(url,\"PATCH\",{})\r\n        if(resp.data.modifiedCount){\r\n          // alert(\"add_remove_fav\")\r\n          // call again foo the fo FavApi to update in the ui the new change\r\n          doFavApi()\r\n        }\r\n      }\r\n      catch (err) {\r\n        console.log(err.response)\r\n        toast.info(\"There error try again later\")\r\n      }\r\n    }\r\n    else{\r\n      toast.error(\"You must be logged in to add to favorite!\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider value={\r\n      {\r\n        favs_ar,\r\n        addRemoveFav,\r\n        doFavApi,\r\n        showCart,\r\n        setShowCart,\r\n        cart_ar,\r\n        updateCart,\r\n        addToCart\r\n      }\r\n      }>\r\n      <Cart />\r\n      <ClientHeader />\r\n      <Outlet />\r\n      <ClientFooter />\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n\r\nexport default LayoutClient","import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\n\r\n\r\n\r\nfunction AuthAdminComp(props){\r\n  let nav = useNavigate();\r\n  useEffect(() => {\r\n    if(localStorage[\"tok\"]){\r\n      doApi()\r\n    }\r\n    else{\r\n      toast.error(\"You must be admin to be here! or you need to login again\")\r\n      nav(\"/admin\")\r\n    }\r\n  },[])\r\n\r\n\r\n  const doApi = async() => {\r\n    let url = API_URL + \"/users/myInfo\";\r\n    try{\r\n      let resp = await doApiGet(url)\r\n      if(resp.data.role != \"admin\"){\r\n        toast.error(\"You must be admin to be here! or you need to login again\")\r\n        nav(\"/admin/logout\")\r\n      }\r\n    }\r\n    catch(err){\r\n      alert(\"You must be admin to be here! or you need to login again\")\r\n      nav(\"/admin/logout\")\r\n    }\r\n  }\r\n\r\n\r\n  return(\r\n    <React.Fragment></React.Fragment>\r\n  )\r\n}\r\n\r\nexport default AuthAdminComp","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService'\r\n\r\nfunction AddCategory(props){\r\n  \r\n   // for disabled the send btn for avoid multi click on him\r\n   let [btnSend,setBtnSend] = useState(false)\r\n \r\n   let nav = useNavigate()\r\n   let { register, handleSubmit, formState: { errors } } = useForm();\r\n \r\n   let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n   let url_nameRef = register(\"url_name\", { required: true, minLength: 2, maxLength: 500 })\r\n   let img_urlRef = register(\"img_url\", { required: true, minLength: 3, maxLength: 500 })\r\n \r\n   const onSubForm = (formData) => {\r\n     // console.log(formData);\r\n     setBtnSend(true);\r\n     doFormApi(formData);\r\n   }\r\n \r\n   const doFormApi = async (formData) => {\r\n     let url = API_URL + \"/categories\";\r\n     try {\r\n       let resp = await doApiMethod(url, \"POST\", formData);\r\n       // console.log(resp.data);\r\n       if (resp.data._id) {\r\n        \r\n         toast.success(\"Category added\")\r\n         // back to the list of products in the admin panel\r\n         nav(\"/admin/categories\")\r\n       }\r\n     }\r\n     catch (err) {\r\n       console.log(err.response);\r\n       alert(\"There problem try again later\")\r\n       nav(\"/admin/categories\")\r\n     }\r\n   }\r\n \r\n   return (\r\n     <div className='container'>\r\n       <AuthAdminComp />\r\n       <h1>Add new category</h1>\r\n       <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n         <label>Name:</label>\r\n         <input {...nameRef} type=\"text\" className='form-control' />\r\n         {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n         <label>url name:</label>\r\n         <input {...url_nameRef} type=\"text\"  className='form-control' />\r\n         {errors.url_name ? <small className='text-danger d-block'>* Enter valid url name, between 1 to 500 chars</small> : \"\"}\r\n\r\n         <label>Image url:</label>\r\n         <input {...img_urlRef} type=\"text\"  className='form-control' />\r\n         {errors.img_url ? <small className='text-danger d-block'>* Enter valid url for image, between 1 to 500 chars</small> : \"\"}\r\n \r\n\r\n         {/* disable-> if true user cant click */}\r\n         <button className='mt-4' disabled={btnSend}>Add new category</button>\r\n       </form>\r\n     </div>\r\n   )\r\n}\r\n\r\nexport default AddCategory","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction AddProduct(props) {\r\n  // categoried data the will load from api request\r\n  let [cat_ar, setCatAr] = useState([]);\r\n  // for disabled the send btn for avoid multi click on him\r\n  let [btnSend,setBtnSend] = useState(false)\r\n\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n  let infoRef = register(\"info\", { required: true, minLength: 2, maxLength: 500 })\r\n  let priceRef = register(\"price\", { required: true, min: 1, max: 999999 })\r\n  let cat_short_idRef = register(\"cat_short_id\", { required: true, minLength: 1, maxLength: 99 })\r\n  let img_urlRef = register(\"img_url\", { required: false, minLength: 3, maxLength: 500 })\r\n  let conditionRef = register(\"condition\", { required: false, minLength: 3, maxLength: 100 })\r\n  // qty - amount of product in the store\r\n  let qtyRef = register(\"qty\", { required: true, min: 1, max: 9999 })\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  }, [])\r\n\r\n  // get the catgories for select box\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/categories\";\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setCatAr(resp.data);\r\n  }\r\n\r\n  const onSubForm = (formData) => {\r\n    // console.log(formData);\r\n    setBtnSend(true);\r\n    doFormApi(formData);\r\n  }\r\n\r\n  const doFormApi = async (formData) => {\r\n    let url = API_URL + \"/products\";\r\n    try {\r\n      let resp = await doApiMethod(url, \"POST\", formData);\r\n      // console.log(resp.data);\r\n      if (resp.data._id) {\r\n        toast.success(\"Product added\");\r\n        // back to the list of products in the admin panel\r\n        nav(\"/admin/products\")\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err.response);\r\n      alert(\"There problem try again later\")\r\n      nav(\"/admin/products\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>Add new product</h1>\r\n      <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n        <label>Name:</label>\r\n        <input {...nameRef} type=\"text\" className='form-control' />\r\n        {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n        <label>Info:</label>\r\n        <textarea {...infoRef} className='form-control' rows=\"3\"></textarea>\r\n        {errors.info ? <small className='text-danger d-block'>* Enter valid info, 3 to 500 chars</small> : \"\"}\r\n\r\n        <label>Price:</label>\r\n        <input {...priceRef} type=\"number\" defaultValue=\"50\" className='form-control' />\r\n        {errors.price ? <small className='text-danger d-block'>* Enter valid  price, between 1 to 999999</small> : \"\"}\r\n\r\n        <label>Qty (amount in the stock):</label>\r\n        <input {...qtyRef} type=\"number\" defaultValue=\"1\" className='form-control' />\r\n        {errors.qty ? <small className='text-danger d-block'>* Enter valid  qty, between 1 to 9999</small> : \"\"}\r\n\r\n        <label>Category:</label>\r\n        <select {...cat_short_idRef}  className='form-select'>\r\n          <option  value=\"\" >Choose Category</option>\r\n          {cat_ar.map(item => {\r\n            return (\r\n              <option key={item._id} value={item.short_id}>{item.name}</option>\r\n            )\r\n          })}\r\n          {/* loop from api of category */}\r\n        </select>\r\n        {errors.cat_short_id ? <small className='text-danger d-block'>You must choose category from the list </small> : \"\"}\r\n\r\n        <label>Img url:</label>\r\n        <input {...img_urlRef} type=\"text\" className='form-control' />\r\n        {errors.img_url ? <small className='text-danger d-block'>* Enter valid  img url </small> : \"\"}\r\n\r\n        <label>Condition:</label>\r\n        <select  {...conditionRef} className='form-select'>\r\n          <option value=\"new\">Brand New</option>\r\n          <option value=\"like new\">Like New</option>\r\n          <option value=\"used\">Used</option>\r\n          <option value=\"broken\">Broken</option>\r\n        </select>\r\n        {/* disable-> if true user cant click */}\r\n        <button disabled={btnSend}>Add new product</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProduct","import React, { useEffect , useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction CategoriesList(props){\r\n  let [ar,setAr] = useState([]);\r\n  let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() =>{\r\n    let url = API_URL + \"/categories\";\r\n    try{\r\n      let resp = await doApiGet(url);\r\n      // console.log(resp.data);\r\n      setAr(resp.data);\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  const delCategory = async(_idDel) => {\r\n    if(window.confirm(\"Are you sure you want to delete?\")){\r\n      try{\r\n        let url = API_URL+\"/categories/\"+_idDel;\r\n        let resp = await doApiMethod(url,\"DELETE\",{});\r\n        console.log(resp.data);\r\n        if(resp.data.deletedCount){\r\n          toast.info(\"Category delted !\");\r\n        }\r\n        // for show the new list without the product that we deleted\r\n        doApi();\r\n      }\r\n      catch(err){\r\n        console.log(err.response);\r\n        alert(\"there problem , try again later\")\r\n      }\r\n    }\r\n  }\r\n \r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>List of Categoires in system</h1>\r\n      <Link className='btn btn-success' to=\"/admin/addcategory\">Add new Category</Link>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>url_name</th>\r\n            <th>short_id</th>\r\n            <th>del/edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n              <tr key={item._id}>\r\n                <td>{i+1}</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.url_name}</td>\r\n                <td>{item.short_id}</td>\r\n        \r\n                <td>\r\n                  <button onClick={() => {delCategory(item.short_id)}} className='badge bg-danger mx-1'>X</button>\r\n                  <button onClick={() => {\r\n                    nav(\"/admin/editCategory/\"+item.url_name)\r\n                  }} className='badge bg-info'>Edit</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {ar.length === 0 ? <h2>Loading...</h2> : \"\"}\r\n      </div> \r\n  )\r\n}\r\n\r\nexport default CategoriesList;","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService'\r\n\r\nfunction EditCategory(props){\r\n  let [category,setCategory] = useState({})\r\n   // for disabled the send btn for avoid multi click on him\r\n   let [btnSend,setBtnSend] = useState(false)\r\n   let params = useParams();\r\n \r\n   let nav = useNavigate()\r\n   let { register, handleSubmit, formState: { errors } } = useForm();\r\n \r\n   let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n   let url_nameRef = register(\"url_name\", { required: true, minLength: 2, maxLength: 500 })\r\n   let img_urlRef = register(\"img_url\", { required: true, minLength: 3, maxLength: 500 })\r\n \r\n   \r\n  useEffect(()=> {\r\n    doApi();\r\n  },[])\r\n\r\n  const doApi = async() => {\r\n    let urlProduct = API_URL+\"/categories/single/\"+params.url_name;\r\n    let resp2 = await doApiGet(urlProduct);\r\n    console.log(resp2.data)\r\n    setCategory(resp2.data);\r\n  }\r\n\r\n   const onSubForm = (formData) => {\r\n     // console.log(formData);\r\n    //  setBtnSend(true);\r\n     doFormApi(formData);\r\n   }\r\n \r\n   const doFormApi = async (formData) => {\r\n     let url = API_URL + \"/categories/\"+category._id;\r\n     try {\r\n       let resp = await doApiMethod(url, \"PUT\", formData);\r\n       // console.log(resp.data);\r\n       if (resp.data.modifiedCount) {\r\n         toast.success(\"Category updated\");\r\n         // back to the list of products in the admin panel\r\n         nav(\"/admin/categories\")\r\n       }\r\n       else{\r\n         toast.warning(\"you not change nothing\")\r\n       }\r\n     }\r\n     catch (err) {\r\n       console.log(err.response);\r\n       alert(\"There problem try again later\")\r\n       nav(\"/admin/categories\")\r\n     }\r\n   }\r\n \r\n   return (\r\n     <div className='container'>\r\n       <AuthAdminComp /> \r\n       <h1>Edit category</h1>\r\n       {(category._id) ? \r\n       <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n         <label>Name:</label>\r\n         <input defaultValue={category.name} {...nameRef} type=\"text\" className='form-control' />\r\n         {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n         <label>url name:</label>\r\n         <input defaultValue={category.url_name} {...url_nameRef} type=\"text\"  className='form-control' />\r\n         {errors.url_name ? <small className='text-danger d-block'>* Enter valid url name, between 1 to 500 chars</small> : \"\"}\r\n\r\n         <label>Image url:</label>\r\n         <input defaultValue={category.img_url} {...img_urlRef} type=\"text\"  className='form-control' />\r\n         {errors.img_url ? <small className='text-danger d-block'>* Enter valid url for image, between 1 to 500 chars</small> : \"\"}\r\n \r\n\r\n\r\n         {/* disable-> if true user cant click */}\r\n         <button className='mt-4 btn btn-warning' disabled={btnSend}>update category</button>\r\n       </form> : <h2>Loading...</h2> }\r\n     </div>\r\n   )\r\n}\r\n\r\nexport default EditCategory","import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction EditProduct(props) {\r\n  let [cat_ar, setCatAr] = useState([]);\r\n  // the props of the products we want to edit\r\n  let [product,setProduct] = useState({});\r\n  let params = useParams();\r\n\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  let nameRef = register(\"name\", { required: true, minLength: 2, maxLength: 150 })\r\n  let infoRef = register(\"info\", { required: true, minLength: 2, maxLength: 500 })\r\n  let priceRef = register(\"price\", { required: true, min: 1, max: 999999 })\r\n  let cat_short_idRef = register(\"cat_short_id\", { required: true, minLength: 1, maxLength: 99 })\r\n  let img_urlRef = register(\"img_url\", { required: false, minLength: 3, maxLength: 500 })\r\n  let conditionRef = register(\"condition\", { required: false, minLength: 3, maxLength: 100 })\r\n  let qtyRef = register(\"qty\", { required: true, min: 1, max: 9999 })\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  }, [])\r\n\r\n  // get the catgories for select box and also data of the product we want edit\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/categories\";\r\n    let resp = await doApiGet(url);\r\n    // console.log(resp.data);\r\n    setCatAr(resp.data);\r\n\r\n    // get product props from api \r\n    let urlProduct = API_URL+\"/products/single/\"+params.id;\r\n    let resp2 = await doApiGet(urlProduct);\r\n    console.log(resp2.data)\r\n    setProduct(resp2.data);\r\n\r\n  }\r\n\r\n  const onSubForm = (formData) => {\r\n    // console.log(formData);\r\n    doFormApi(formData);\r\n  }\r\n\r\n  const doFormApi = async (formData) => {\r\n    let url = API_URL + \"/products/\"+params.id;\r\n    try {\r\n      let resp = await doApiMethod(url, \"PUT\", formData);\r\n      // console.log(resp.data);\r\n      if (resp.data.modifiedCount) {\r\n        toast.success(\"Product updated\");\r\n        // back to the list of products in the admin panel\r\n        nav(\"/admin/products\")\r\n      }\r\n      else{\r\n        toast.warning(\"You not change nothing for update.\")\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err.response);\r\n      alert(\"There problem try again later\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>Edit product</h1>\r\n      {/* if product._id is true its mean that the product\r\n      object get the all data from the api and with this check\r\n      we avoid from blank memory of inputs  */}\r\n      {(product._id) ?\r\n      <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 shadow'>\r\n        <label>Name:</label>\r\n        <input defaultValue={product.name} {...nameRef} type=\"text\" className='form-control' />\r\n        {errors.name ? <small className='text-danger d-block'>* Enter valid name 2 to 99 chars</small> : \"\"}\r\n\r\n        <label>Info:</label>\r\n        <textarea defaultValue={product.info} {...infoRef} className='form-control' rows=\"3\"></textarea>\r\n        {errors.info ? <small className='text-danger d-block'>* Enter valid info, 3 to 500 chars</small> : \"\"}\r\n\r\n        <label>Price:</label>\r\n        <input defaultValue={product.price} {...priceRef} type=\"number\"  className='form-control' />\r\n        {errors.price ? <small className='text-danger d-block'>* Enter valid  price, between 1 to 999999</small> : \"\"}\r\n\r\n        <label>Qty (amount in the stock):</label>\r\n        <input defaultValue={product.qty} {...qtyRef} type=\"number\" className='form-control' />\r\n        {errors.qty ? <small className='text-danger d-block'>* Enter valid  qty, between 1 to 9999</small> : \"\"}\r\n\r\n        <label>Category:</label>\r\n        {/* DefaultValue - what to choose in the start from the options */}\r\n        <select defaultValue={product.cat_short_id} {...cat_short_idRef}  className='form-select'>\r\n          <option  value=\"\" >Choose Category</option>\r\n          {cat_ar.map(item => {\r\n            return (\r\n              <option key={item._id} value={item.short_id}>{item.name}</option>\r\n            ) \r\n          })}\r\n          {/* loop from api of category */}\r\n        </select>\r\n        {errors.cat_short_id ? <small className='text-danger d-block'>You must choose category from the list </small> : \"\"}\r\n\r\n        <label>Img url:</label>\r\n        <input defaultValue={product.img_url} {...img_urlRef} type=\"text\" className='form-control' />\r\n        {errors.img_url ? <small className='text-danger d-block'>* Enter valid  img url </small> : \"\"}\r\n\r\n        <label>Condition:</label>\r\n        <select defaultValue={product.condition} {...conditionRef} className='form-select'>\r\n          <option value=\"new\">Brand New</option>\r\n          <option value=\"like new\">Like New</option>\r\n          <option value=\"used\">Used</option>\r\n          <option value=\"broken\">Broken</option>\r\n        </select>\r\n        <button className='btn btn-info me-2'>Update Product</button>\r\n        <Link className='btn btn-danger' to=\"/admin/products\">Canel</Link>\r\n      </form> : <h2>Loading...</h2> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditProduct","import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction HeaderAdmin(props){\r\n  let nav = useNavigate()\r\n\r\n  const onLogOutClick = () => {\r\n    if(window.confirm(\"Are you sure you want to logout?\")){\r\n      nav(\"/admin/logout\");\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className='header_admin container-fluid bg-dark d-flex align-items-center'>\r\n      <h2 className='text-white col-auto me-4'>Admin panel</h2>\r\n      <nav className='col-md-9'>\r\n        <Link to=\"/admin/products\" >Products</Link>\r\n        <Link to=\"/admin/categories\" >Categories</Link>\r\n        <Link to=\"/admin/users\" >Users</Link>\r\n        <Link to=\"/admin/checkout\" >Checkout</Link>\r\n\r\n        {/* we cant do nav command to Link comp */}\r\n        {localStorage[\"tok\"] ? \r\n        <button onClick={onLogOutClick} className='badge bg-danger float-md-end '>Log out</button> : \"\" }\r\n      </nav>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default HeaderAdmin","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport HeaderAdmin from './headerAdmin';\r\nimport \"./admin.css\"\r\n\r\nfunction LayoutAdmin(props){\r\n  return(\r\n    <React.Fragment>\r\n      <HeaderAdmin />\r\n      <Outlet />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default LayoutAdmin","import React from 'react';\r\nimport {useForm} from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiMethod } from '../services/apiService';\r\n\r\nfunction LoginAdmin(props){\r\n  let nav = useNavigate()\r\n  let {register , handleSubmit ,  formState: { errors } } = useForm();\r\n\r\n  const onSubForm = (data) => {\r\n    // data = the inputs in the form with ref in 1 object\r\n    console.log(data);\r\n    doApi(data)\r\n  }\r\n\r\n  const doApi = async(_dataBody) => {\r\n    let url = API_URL + \"/users/login\"\r\n    try{\r\n    let resp = await doApiMethod(url, \"POST\" ,_dataBody);\r\n    console.log(resp.data);\r\n      if(resp.data.token){\r\n        localStorage.setItem(\"tok\",resp.data.token);\r\n        // send user to product list\r\n        nav(\"/admin/products\");\r\n        toast.info(\"Welcome back to admin panel!\");\r\n      }\r\n      else{\r\n        \r\n        toast.error(\"There some error come back later...\");\r\n      }\r\n    }\r\n    catch(err){\r\n      toast.error(err.response.data.err);\r\n      // err.response.data -> collect error with axios\r\n      console.log(err.response.data)\r\n    }\r\n  }\r\n\r\n  let emailRef = register(\"email\",{\r\n    required:true,  \r\n    pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n  })\r\n \r\n  let passwordRef =  register(\"password\",{required:true, minLength:3}) ;\r\n\r\n  return(\r\n    <div className='container'>\r\n      <h1>Login to system</h1>\r\n      <form onSubmit={handleSubmit(onSubForm)} className='col-md-6 p-3 border'>\r\n        <label>Email:</label>\r\n        <input {...emailRef} type=\"text\" className='form-control' />\r\n        {errors.email ? <small className='text-danger d-block'>* Email invalid</small> : \"\"}\r\n        <label>Password:</label>\r\n        <input {...passwordRef} type=\"text\" className='form-control' />\r\n        {errors.password ? <small className='text-danger d-block'>* Enter valid password, min 3 chars</small> : \"\"}\r\n        <button className='btn btn-info mt-4'>Login</button>\r\n      </form>  \r\n    </div> \r\n  )\r\n}\r\n\r\nexport default LoginAdmin","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { useEffect } from 'react/cjs/react.development';\r\n\r\nfunction LogoutAdmin(props){\r\n  let nav = useNavigate();\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"tok\");\r\n    toast.info(\"You log out from system, see you later\")\r\n    nav(\"/admin\");\r\n  },[])\r\n\r\n  return(\r\n    <div>Please wait... you log out.</div> \r\n  )\r\n}\r\n\r\nexport default LogoutAdmin","import React ,{ useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { doApiGet } from '../services/apiService';\r\n\r\nfunction PageLinks(props){\r\n  const nav = useNavigate();\r\n  const [pages,setPages] = useState(0)\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  \r\n  // Check how many pages there are\r\n  const doApi = async() => {\r\n    let url = props.apiUrlAmount;\r\n    let resp = await doApiGet(url);\r\n    setPages(Math.ceil(resp.data.amount / props.perPage));\r\n  }\r\n\r\n\r\n  return(\r\n    <div className='my-3'>\r\n      <span>page: </span>\r\n      {/* createa array from number var that we can do map/loop on him  */}\r\n      {[...Array(pages)].map((item,i) => {\r\n        return(\r\n          <button key={i} className={props.clsCss} onClick={() => {\r\n            nav(props.urlLinkTo+\"?page=\"+(i+1))\r\n          }}>{i + 1}</button>\r\n        )\r\n      })}\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default PageLinks","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport PageLinks from '../misc_comps/pageLinks';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\n\r\n\r\n\r\nfunction ProductsAdminList(props){\r\n  let [ar,setAr] = useState([]);\r\n  let [numPage,setPageNum] = useState(1);\r\n  let [catObj,setCatObj] = useState({})\r\n  let nav = useNavigate();\r\n  // object with data of the current url page\r\n  let location = useLocation()\r\n  \r\n  useEffect(() => { \r\n    doApi();\r\n  },[location])\r\n\r\n  const doApi = async() => {\r\n    // get the product list from server api\r\n\r\n    try{\r\n      let url0 = API_URL + \"/categories\";\r\n      let resp0 = await doApiGet(url0);\r\n      console.log(resp0.data);\r\n      let temp_ar = resp0.data;\r\n      // var that will assoiative array with short_id that equal\r\n      // to the category name categories_data[\"97548\"] -> cars\r\n      // we create it in object and not array for save memeory becuase the short id\r\n      // can be 999999 and then the system will create 999999 cells in the memory\r\n      let categories_data = {};\r\n      temp_ar.forEach(item => {\r\n        categories_data[item.short_id] = item.name;\r\n      })\r\n      console.log(\"cat\",categories_data)\r\n      setCatObj(categories_data)\r\n\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      //?page collect query string\r\n      let pageQuery = urlParams.get(\"page\") || 1;\r\n      setPageNum(pageQuery)\r\n      let url = API_URL + \"/products?page=\"+pageQuery;\r\n      let resp = await doApiGet(url);\r\n      // console.log(resp.data);\r\n      setAr(resp.data);\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  const delProduct = async(_idDel) => {\r\n    if(window.confirm(\"Are you sure you want to delete?\")){\r\n      try{\r\n        let url = API_URL+\"/products/\"+_idDel;\r\n        let resp = await doApiMethod(url,\"DELETE\",{});\r\n        console.log(resp.data);\r\n        if(resp.data.deletedCount){\r\n          toast.info(\"product delted !\");\r\n        }\r\n        // for show the new list without the product that we deleted\r\n        doApi();\r\n      }\r\n      catch(err){\r\n        console.log(err.response);\r\n        alert(\"there problem , try again later\")\r\n      }\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>List of products in system</h1>\r\n      <Link to=\"/admin/addProduct\" className=\"btn btn-success\">Add new product</Link>\r\n      {/* show page buttons \r\n      \r\n      perPage -> how many items we show per page\r\n      apiUrlAmount -> url of the api to get the amount of items\r\n      urlLinkTo -> to where to link on click on page btn\r\n      clsCss -> class for css for buttons\r\n      */}\r\n      <PageLinks perPage=\"5\" apiUrlAmount={API_URL+\"/products/amount\"} urlLinkTo={\"/admin/products\"} clsCss=\"btn btn-info me-1\" />\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>price</th>\r\n            <th>qty</th>\r\n            <th>category</th>\r\n            <th>condtion</th>\r\n            <th>short_id</th>\r\n            <th>del/edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n              <tr key={item._id}>\r\n                {/* # - change the id by the page 1-5 , 6-10... */}\r\n                <td>{(i+1) + 5 * (numPage-1) }</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.price}</td>\r\n                <td>{item.qty}</td>\r\n                {/* show the name of category and not its short_id\r\n                look on line 31+\r\n                */}\r\n                <td>{catObj[item.cat_short_id]}</td>\r\n                <td>{item.condition}</td>\r\n                <td>{item.short_id}</td>\r\n                <td>\r\n                  <button onClick={() => {delProduct(item._id)}} className='badge bg-danger mx-1'>X</button>\r\n                  <button onClick={() => {\r\n                    nav(\"/admin/editProduct/\"+item._id)\r\n                  }} className='badge bg-info'>Edit</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {ar.length === 0 ? <h2>Loading...</h2> : \"\"}\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default ProductsAdminList","import React, { useEffect , useState } from 'react';\r\n// import { Link, useNavigate } from 'react-router-dom';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\nfunction UsersList(props){\r\n  let [ar,setAr] = useState([]);\r\n  // let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() =>{\r\n    let url = API_URL + \"/users/usersList\";\r\n    try{\r\n      let resp = await doApiGet(url);\r\n      // console.log(resp.data);\r\n      setAr(resp.data);\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  const delUser = async(_idDel) => {\r\n    if (window.confirm(\"Are you sure you want to delete?\")) {\r\n      let url = API_URL+\"/users/\"+_idDel\r\n      let resp = await doApiMethod(url,\"DELETE\",{});\r\n      console.log(resp.data);\r\n      doApi()\r\n    }\r\n  }\r\n\r\n\r\n  // change role user for admin or back to regular user\r\n  const changeRole = async(_userId,_role) => {\r\n    let url = API_URL + `/users/changeRole/${_userId}/${_role}`;\r\n    try{\r\n      let resp = await doApiMethod(url,\"PATCH\",{});\r\n      if(resp.data.modifiedCount){\r\n        doApi();\r\n      }\r\n    }\r\n    catch(err){\r\n      alert(\"there problem come back later\")\r\n      if(err.response){\r\n        console.log(err.response.data)\r\n      }\r\n    }\r\n  }\r\n \r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h1>List of Users in system</h1>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>email</th>\r\n            <th>address</th>\r\n            <th>role</th>\r\n            <th>del</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n              <tr key={item._id}>\r\n                <td>{i+1}</td>\r\n                <td>{item.name}</td>\r\n                <td>{item.email}</td>\r\n                <td>{item.address}</td>\r\n                <td>\r\n                  {(item.role === \"admin\") ? \r\n                  <button onClick={() => {\r\n                    changeRole(item._id, \"user\")\r\n                  }} className='btn btn-warning'>admin</button> \r\n                  : \r\n                  <button \r\n                  onClick={() => {\r\n                    changeRole(item._id, \"admin\")\r\n                  }} \r\n                  className='btn btn-dark'>user</button>\r\n                }\r\n                  \r\n                  </td>\r\n                <td>\r\n                  <button onClick={() => {delUser(item._id)}} className='badge bg-danger'>X</button>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {ar.length === 0 ? <h2>Loading...</h2> : \"\"}\r\n      </div> \r\n  )\r\n}\r\n\r\nexport default UsersList;","import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport PageLinks from '../misc_comps/pageLinks';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction ProductsListPage(props) {\r\n  const [ar, setAr] = useState([])\r\n  const [shortId, setShortId] = useState(0)\r\n  const [amount,setAmount] = useState(0)\r\n  const location = useLocation();\r\n\r\n  let params = useParams();\r\n\r\n  useEffect(() => {\r\n    // for show loading when we clikc pages\r\n    setAr([]);\r\n    doApi();\r\n  }, [location]);\r\n\r\n  const doApi = async () => {\r\n\r\n\r\n    let urlCategory = API_URL + \"/categories/single/\" + params.cat_url;\r\n    let resp1 = await doApiGet(urlCategory);\r\n    // console.log(resp1.data);\r\n    let short_id = resp1.data?.short_id;\r\n    setShortId(short_id)\r\n\r\n    // get page number\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let pageQuery = urlParams.get(\"page\") || 1;\r\n    let urlProds = API_URL + \"/products/?perPage=8&cat=\" + short_id + \"&page=\" + pageQuery;\r\n    let resp2 = await doApiGet(urlProds)\r\n    // console.log(resp2.data);\r\n\r\n    setAr(resp2.data)\r\n\r\n    // check amount of produts of category:\r\n    let urlAmounts = API_URL + \"/products/amount?cat=\" + short_id;\r\n    let resp3 = await doApiGet(urlAmounts);\r\n    setAmount(resp3.data.amount)\r\n  }\r\n  // TODO: ADD PAGENATION\r\n  return (\r\n    <div className='container-fluid' style={{ minHeight: \"85vh\" }}>\r\n      <div className=\"container\">\r\n        <h1 className='text-center my-4'>Categories of {params.cat_url}</h1>\r\n        {ar.length == 0 ? <h2 className='text-center'>Loading...</h2> : \"\"}\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <ProducItem key={item._id} item={item} />\r\n            )\r\n          })}\r\n        </div>\r\n        {amount < 9 ? \"\" :\r\n          <PageLinks perPage=\"8\" apiUrlAmount={API_URL + \"/products/amount?cat=\" + shortId} urlLinkTo={\"/products/\"+params.cat_url} clsCss=\"btn btn-dark me-1\" />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductsListPage","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction InfoProductsList(props){\r\n  let [ar,setAr] = useState([]);\r\n  let params = useParams();\r\n\r\n  useEffect(() => {\r\n    doApi()\r\n  },[])\r\n\r\n  const doApi = async() =>{ \r\n    let url = API_URL+\"/products?perPage=5&cat=\"+props.\r\n    cat_short_id;\r\n\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    \r\n\r\n    // check if we are in the product page\r\n    // not show it again in the list of new products\r\n    // in first time\r\n    let temp_ar = resp.data;\r\n    temp_ar = temp_ar.filter(item => {\r\n\r\n      return item._id != params.id;\r\n    })\r\n    if(temp_ar.length > 4){\r\n      temp_ar.pop();\r\n    }\r\n     \r\n  \r\n    setAr(temp_ar);\r\n  }\r\n  \r\n  return(\r\n    \r\n    <div className='my-5'>\r\n      <hr/>\r\n      <h2 className='text-center gradi'>\r\n      More products you might like :\r\n      </h2>\r\n      <div className=\"row\">\r\n        {ar.map(item => {\r\n          return(\r\n            <ProducItem key={item._id} item={item} />\r\n          )\r\n        })}\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default InfoProductsList","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport { addProdVisitedToLocal } from '../services/localService';\r\nimport InfoProductsList from './infoProductsList';\r\nimport { BsCart3} from \"react-icons/bs\"\r\nimport {AppContext} from \"../context/shopContext\"\r\n\r\nfunction ProductInfo(props){\r\n  const {addToCart } = useContext(AppContext);\r\n  const [product,setProduct] = useState({});\r\n  let params = useParams();\r\n  let nav = useNavigate();\r\n  let location = useLocation();\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[location])\r\n\r\n  const doApi = async() => {\r\n    let url = API_URL + \"/products/single/\"+params.id;\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n     setProduct(resp.data)\r\n    //  save in visited in local\r\n     addProdVisitedToLocal(resp.data.short_id)\r\n  }\r\n\r\n  const onAddToCartClick = () => {\r\n    // ...cart_ar - take all cell from the old and add new\r\n    // product\r\n    addToCart(product)\r\n  }\r\n\r\n  return(\r\n    <div className='container p-4' style={{minHeight:\"85vh\"}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4\">\r\n          {/* img-fluid - real width of pics or width 100%  */}\r\n            <img src={product.img_url || \"/images/cover.jpg\"} alt={product.name} className='img-fluid img-thumbnail shadow' />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <h2 className='display-4'>{product.name}</h2>\r\n          <p><strong>Info:</strong> {product.info}</p>\r\n          <h3>Price: {product.price} nis</h3>\r\n          <h3>Condition: {product.condition}</h3>\r\n          <h4>Quantity: {product.qty} </h4>\r\n          <button onClick={() => {\r\n            nav(-1);\r\n          }} className='btn btn-dark'>Back</button>\r\n          {product.qty > 0 ? \r\n          <button onClick={onAddToCartClick} className=\"btn btn-info ms-2\">Add to cart \r\n          <BsCart3 className=\"ms-2 mb-1\"/>+\r\n          </button> :\r\n           <button  className=\"btn btn-danger ms-2\">SOLD OUT!!!\r\n          \r\n           </button>\r\n          }\r\n        </div>\r\n      </div>\r\n      {product.cat_short_id ? \r\n      <InfoProductsList cat_short_id={product.cat_short_id} />\r\n      : \"\" }\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default ProductInfo","import React from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiMethod } from '../../services/apiService';\r\n\r\nfunction SignUpClient(props) {\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubForm = (data) => {\r\n    // data = the inputs in the form with ref in 1 object\r\n    console.log(data);\r\n    doApi(data)\r\n  }\r\n  const doApi = async (_dataBody) => {\r\n    let url = API_URL + \"/users/\";\r\n    try {\r\n      let resp = await doApiMethod(url, \"POST\", _dataBody);\r\n      if (resp.data._id) {\r\n        toast.success(\"You sign up\");\r\n        nav(\"/login\");\r\n      }\r\n    }\r\n    catch(err){\r\n      if(err.response.data.code == 11000){\r\n          toast.error(\"Email already in system , try log in\")\r\n      }\r\n      else{\r\n        alert(\"There problem , try come back later\")\r\n      }\r\n      // if(err.responose.code == 11000){\r\n      // }\r\n      // console.log(err)\r\n    }\r\n  }\r\n\r\n\r\nlet nameRef = register(\"name\", { required: true, minLength: 2 });\r\nlet emailRef = register(\"email\", {\r\n  required: true,\r\n  pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n})\r\n\r\nlet passwordRef = register(\"password\", { required: true, minLength: 3 });\r\nlet addressRef = register(\"address\", { required: false, minLength: 2 });\r\nlet phoneRef = register(\"phone\", { required: false, minLength: 9 });\r\n\r\n\r\nreturn (\r\n  <div className='container col-md-6 mx-auto my-5'>\r\n    <h1>Sign up to the store</h1>\r\n    <form onSubmit={handleSubmit(onSubForm)} className='col-12 p-3 border'>\r\n      <label>* Name:</label>\r\n      <input {...nameRef} type=\"text\" className='form-control' />\r\n      {errors.name ? <small className='text-danger d-block'>* Enter valid name, min 2 chars</small> : \"\"}\r\n      <label>* Email:</label>\r\n      <input {...emailRef} type=\"text\" className='form-control' />\r\n      {errors.email ? <small className='text-danger d-block'>* Email invalid</small> : \"\"}\r\n      <label>* Password:</label>\r\n      <input {...passwordRef} type=\"text\" className='form-control' />\r\n      {errors.password ? <small className='text-danger d-block'>* Enter valid password, min 3 chars</small> : \"\"}\r\n      <label>Address:</label>\r\n      <input {...addressRef} type=\"text\" className='form-control' />\r\n      {errors.address ? <small className='text-danger d-block'>* Enter valid address, min 2 chars</small> : \"\"}\r\n      <label>Phone:</label>\r\n      <input {...phoneRef} type=\"text\" className='form-control' />\r\n      {errors.phone ? <small className='text-danger d-block'>* Enter valid phone number, min 9 numbers</small> : \"\"}\r\n\r\n      <button className='btn btn-info mt-4'>Sign up</button>\r\n    </form>\r\n  </div>\r\n)\r\n}\r\n\r\nexport default SignUpClient","import React, { useContext } from 'react';\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiMethod } from '../../services/apiService';\r\nimport { saveTokenLocal } from '../../services/localService';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction LogInClient(props){\r\n  const {doFavApi} = useContext(AppContext)\r\n\r\n  let nav = useNavigate()\r\n  let { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubForm = (data) => {\r\n    // data = the inputs in the form with ref in 1 object\r\n    console.log(data);\r\n    doApi(data)\r\n  }\r\n  const doApi = async (_dataBody) => {\r\n    let url = API_URL + \"/users/login\";\r\n    try {\r\n      let resp = await doApiMethod(url, \"POST\", _dataBody);\r\n      if (resp.data.token) {\r\n        toast.success(\"You logged in\");\r\n        saveTokenLocal(resp.data.token);\r\n        nav(\"/\");\r\n        doFavApi();\r\n      }\r\n    }\r\n    catch(err){\r\n      \r\n      \r\n      toast.error(\"User password not match, or there another problem\")\r\n      \r\n      \r\n    }\r\n  }\r\n\r\n  let emailRef = register(\"email\", {\r\n    required: true,\r\n    pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\r\n  })\r\n  \r\n  let passwordRef = register(\"password\", { required: true, minLength: 3 });\r\n\r\n  return(\r\n    <div className='container col-md-6 mx-auto my-5'>\r\n    <h1>Login to the store</h1>\r\n    <form onSubmit={handleSubmit(onSubForm)} className='col-12 p-3 border'>\r\n     \r\n      <label>* Email:</label>\r\n      <input {...emailRef} type=\"text\" className='form-control' />\r\n      {errors.email ? <small className='text-danger d-block'>* Email invalid</small> : \"\"}\r\n      <label>* Password:</label>\r\n      <input {...passwordRef} type=\"text\" className='form-control' />\r\n      {errors.password ? <small className='text-danger d-block'>* Enter valid password, min 3 chars</small> : \"\"}\r\n      \r\n\r\n      <button className='btn btn-success mt-5'>Log in</button>\r\n    </form>\r\n  </div> \r\n  )\r\n}\r\n\r\nexport default LogInClient","import React, { useContext, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { deleteToken } from '../../services/localService';\r\nimport {AppContext} from \"../../context/shopContext\"\r\n\r\nfunction LogoutClient(props){\r\n  const {doFavApi} = useContext(AppContext)\r\n  let nav = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Logout the user from system and send him to home page\r\n    deleteToken();\r\n    toast.info(\"You logged out from system , see you soon!\")\r\n    nav(\"/\");\r\n    doFavApi();\r\n  },[])\r\n\r\n  return(\r\n    <div></div> \r\n  )\r\n}\r\n\r\nexport default LogoutClient","import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\nimport { SHOP_TOKEN } from '../../services/localService';\r\n\r\nfunction AuthClientComp(props) {\r\n\r\n  let nav = useNavigate()\r\n\r\n  useEffect(() => {\r\n    if (localStorage[SHOP_TOKEN]) {\r\n      doApiAuth();\r\n    }\r\n    else {\r\n      // nav to login\r\n      nav(\"/login\")\r\n      // show toast message in yellow that the user must be connected    \r\n      toast.warning(\"You must be logged in user to be here, please log in and come back\")\r\n    }\r\n  }, [])\r\n\r\n  // check the token of user\r\n  const doApiAuth = async () => {\r\n    let url = API_URL + \"/users/checkUserToken\";\r\n    try {\r\n      let data = await doApiGet(url);\r\n      console.log(data);\r\n    }\r\n    catch (err) {\r\n      toast.warning(\"You need to log in again.\")\r\n      nav(\"/logout\")\r\n      console.log(err.response);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment></React.Fragment>\r\n  )\r\n}\r\n\r\nexport default AuthClientComp","import React, { useEffect, useState } from 'react';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\nimport ProducItem from '../productItem';\r\nimport AuthClientComp from './authClientComp';\r\n\r\nfunction FavsProducts(props) {\r\n  let [ar,setAr] = useState([])\r\n\r\n\r\n  useEffect(() => {\r\n   \r\n    doApiListFav()\r\n  },[])\r\n\r\n  const doApiListFav = async() => {\r\n    let url = API_URL+\"/favs/productsInfo\";\r\n    let resp = await doApiGet(url)\r\n    console.log(resp.data);\r\n    setAr(resp.data)\r\n  }\r\n\r\n  return (\r\n    <div className='container-fluid' style={{ minHeight: \"85vh\" }}>\r\n      <div className=\"container\">\r\n        <AuthClientComp />\r\n        <h1 className='text-center gradi'>Your favorites</h1>\r\n        <h5 className='text-center gradi'>Click on star to remove them from the list</h5>\r\n        {/* {ar.length == 0 ? <h2 className='text-center'>Loading...</h2> : \"\"} */}\r\n        {ar.length == 0 ? <h2 className='text-center text-danger'>You have not yet selected any favorites</h2> : \"\"}\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <ProducItem key={item._id} item={item} />\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FavsProducts","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport ProducItem from './productItem';\r\n\r\nfunction SearchProducts(props){\r\n  const [ar,setAr] = useState([]); \r\n  const [whatSearch,setWhatSearch] = useState(\"\");\r\n  const [showLoading, setShowLoading] = useState(true);\r\n  let location = useLocation();\r\n  \r\n  useEffect(() => {\r\n    setShowLoading(true);\r\n    doApi()\r\n  },[location])\r\n\r\n  //?s=\r\n  const doApi = async() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let searchQuery = urlParams.get(\"s\") || \"\";\r\n    setWhatSearch(searchQuery);\r\n    let url = API_URL+\"/products/search?s=\"+searchQuery;\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setShowLoading(false);\r\n    setAr(resp.data);\r\n  }\r\n\r\n  return(\r\n    <div className='container-fluid pb-4' style={{ minHeight: \"85vh\" }}>\r\n      <div className=\"container\">\r\n        <h1 className='text-center my-4'>Search for \"{whatSearch}\":</h1>\r\n        {showLoading ? <h2 className='text-center'>Loading...</h2> : \"\"}\r\n        {ar.length == 0 && !showLoading ? <h2 className='text-center'>Search not match, try another query</h2> : \"\"}\r\n        <div className=\"row\">\r\n          {ar.map(item => {\r\n            return (\r\n              <ProducItem key={item._id} item={item} />\r\n            )\r\n          })}\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchProducts","import React from 'react';\r\n\r\nfunction Page404(props){\r\n  return(\r\n    <div className='container p-4' style={{minHeight:\"85vh\"}}>\r\n      <h2>Page not found ! 404</h2>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Page404","import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction CheckoutItem(props){\r\n  let nav = useNavigate();\r\n  let item = props.item;\r\n  return(\r\n    <tr>\r\n      <td>{props.index+1}</td>\r\n      <td>{item.status}</td>\r\n      <td>{item.name}</td>\r\n      <td>{item.address}</td>\r\n      <td>{item.total_price}</td>\r\n      <td>{item.products_ar.length}</td>\r\n      <td>\r\n        {/* <button className='badge bg-danger'>del</button> */}\r\n        <button onClick={() => {\r\n          nav(\"/admin/checkoutInfo/\"+item._id);\r\n        }} to=\"/\" className='badge bg-info'>info</button>\r\n      </td>\r\n    </tr> \r\n  )\r\n}\r\n\r\nexport default CheckoutItem;","import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useSearchParams } from 'react-router-dom';\r\nimport AuthAdminComp from '../misc_comps/authAdminComp';\r\nimport PageLinks from '../misc_comps/pageLinks';\r\nimport { API_URL, doApiGet } from '../services/apiService';\r\nimport CheckoutItem from './checkoutItem';\r\n\r\nfunction CheckoutListAdmin(props){\r\n  const [ar,setAr] = useState([]);\r\n  // for collect query string from url like ?page=\r\n  const [query] = useSearchParams()\r\n  const location = useLocation();\r\n  const [page,setPage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[location])\r\n\r\n  const doApi = async() => {\r\n    let pageQ = query.get(\"page\") || 1;\r\n    setPage(pageQ-1)\r\n\r\n    let url = API_URL+\"/orders/allOrders?page=\"+pageQ;\r\n    let resp = await doApiGet(url);\r\n    console.log(resp.data);\r\n    setAr(resp.data); \r\n  }\r\n\r\n  return(\r\n    <div className='container'>\r\n      <AuthAdminComp />\r\n      <h2>Checkout of store:</h2>\r\n      <PageLinks perPage=\"5\" apiUrlAmount={API_URL+\"/orders/allOrdersCount\"} urlLinkTo={\"/admin/checkout\"} clsCss=\"btn btn-info me-1\" />\r\n     \r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>status</th>\r\n            <th>name</th>\r\n            <th>address</th>\r\n            <th>total price</th>\r\n            <th>amount of kind of products</th>\r\n            <th>del/info</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            return(\r\n            <CheckoutItem key={item._id} item={item} index={i + page * 5}/>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default CheckoutListAdmin","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet, doApiMethod } from '../services/apiService';\r\n\r\n// show info about the order checkout\r\n// also give the option to change status\r\nfunction CheckoutInfo(props) {\r\n  let [ar, setAr] = useState([]);\r\n  let [orderInfo, setOrderInfo] = useState({});\r\n  let params = useParams();\r\n  let selectRef = useRef();\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/orders/productsInfo/\" + params.id;\r\n    let resp = await doApiGet(url);\r\n    // console.log(resp.data);\r\n    setOrderInfo(resp.data.order);\r\n    setAr(resp.data.products);\r\n  }\r\n\r\n  const onStatusChanged = async () => {\r\n    let status = selectRef.current.value;\r\n    let url = API_URL + \"/orders/\" + orderInfo._id + \"?status=\" + status;\r\n    let resp = await doApiMethod(url, \"PATCH\", {});\r\n    // console.log(resp.data);\r\n    if (resp.data.modifiedCount == 1) {\r\n      doApi();\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='container'>\r\n      <Link to=\"/admin/checkout\">back to list</Link>\r\n      { orderInfo.name ? <article>\r\n        <h2>Order info:</h2>\r\n        <h3>Name: {orderInfo.name} , Address: {orderInfo.address} , phone: {orderInfo.phone}</h3>\r\n        <h3>Status of order: {orderInfo.status}</h3>\r\n        <div className='col-md-3'>\r\n          <h4>Change status:</h4>\r\n          <select defaultValue={orderInfo.status} ref={selectRef} onChange={() => { onStatusChanged() }} className='form-select'>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"paid\">Paid</option>\r\n            <option value=\"shipped\">Shipped</option>\r\n            <option value=\"completed\">Completed</option>\r\n            <option value=\"canceld\">Canceld</option>\r\n          </select>\r\n        </div>\r\n      </article> : <h2>Loading...</h2>}\r\n      {/* TODO: option to change status \r\n        if img not found show another img\r\n      */}\r\n      <h4>Total price of order:{orderInfo.total_price} nis</h4>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>short_id</th>\r\n            <th>img</th>\r\n            <th>Price of one item</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item, i) => {\r\n            return (\r\n              <tr key={item._id}>\r\n                <td>{i + 1}</td>\r\n                <td title={item.info}>{item.name}</td>\r\n                <td>{item.short_id}</td>\r\n                <td>\r\n                  <img src={item.img_url} alt=\"pic\" height=\"50\" />\r\n                </td>\r\n                <td>{item.price}</td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutInfo","import React, { useContext, useEffect, useState } from 'react';\r\nimport {PayPalButton} from \"react-paypal-button-v2\"\r\nimport { getCartFromLocal } from '../../services/localService';\r\nimport AuthClientComp from '../users_comps/authClientComp';\r\nimport { AppContext } from \"../../context/shopContext\"\r\nimport { API_URL, doApiMethod } from '../../services/apiService';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Checkout(props) {\r\n  const { cart_ar, setShowCart, updateCart } = useContext(AppContext);\r\n  const [cartEmpty, setCartEmpty] = useState(false);\r\n  const [showLoading, setShowLoading] = useState(true);\r\n  const [total, setTotal] = useState(0);\r\n  const nav = useNavigate();\r\n\r\n\r\n  useEffect(() => {\r\n    setShowCart(\"none\")\r\n    if (cart_ar.length > 0) {\r\n      setCartEmpty(false)\r\n      setShowLoading(true)\r\n      doApiAddToCheckout()\r\n    }\r\n    else {\r\n      setCartEmpty(true)\r\n      setShowLoading(false);\r\n    }\r\n  }, [cart_ar])\r\n\r\n// add to checkout\r\n  const doApiAddToCheckout = async () => {  \r\n    let url = API_URL + '/orders';\r\n    let total_price = 0\r\n    let products_ar = cart_ar.map(item => {\r\n      total_price += item.price;\r\n      return {\r\n        s_id: item.short_id,\r\n        amount: 1,\r\n        price: item.price\r\n      }\r\n    })\r\n    setTotal(total_price)\r\n    console.log(products_ar)\r\n    console.log(total_price);\r\n    let resp = await doApiMethod(url, \"POST\", { total_price, products_ar })\r\n    console.log(resp.data)\r\n    setShowLoading(false);\r\n  }\r\n\r\n  // delete from the cart\r\n  const onXclick = (_delProdId) => {\r\n    let temp_ar = cart_ar.filter(prod => prod._id != _delProdId);\r\n    updateCart(temp_ar);\r\n  }\r\n\r\n  // Update order status if payment has been made\r\n  const onCommit = async (_data) => {\r\n    if (cart_ar.length > 0) {\r\n      let url = API_URL + \"/orders/orderPaid/\"\r\n      let paypalObject = {\r\n        tokenId: _data.facilitatorAccessToken,\r\n        orderId: _data.orderID,\r\n        realPay:\"sandbox\"\r\n      }\r\n      let resp = await doApiMethod(url, \"PATCH\", paypalObject);\r\n      if (resp.data.modifiedCount == 1) {\r\n        alert(\"Your order completed\");\r\n        nav(\"/oldorders\");\r\n        updateCart([]);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='container mt-3' style={{ minHeight: \"85vh\" }}>\r\n      <AuthClientComp />\r\n\r\n      {cartEmpty ? <h2>Cart is empty</h2> : \"\"}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8\">\r\n          <h3>Products in cart:</h3>\r\n          <h4>Total price: {total} nis</h4>\r\n          <table className='table table-striped'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>name</th>\r\n                {/* <th>amount</th> */}\r\n                <th>price</th>\r\n                <th>del</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {cart_ar.map((item, i) => {\r\n                return (\r\n                  <tr key={item._id} title={item.info}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{item.name}</td>\r\n                    {/* <td>1</td> */}\r\n                    <td>{item.price}</td>\r\n                    <td>\r\n                      <button onClick={() => { onXclick(item._id) }} className=\"badge bg-danger\">X</button>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className='col-md-4'>\r\n          {showLoading ? <h2>Loading...</h2> :\r\n            <div>\r\n              <h3>Choose paid method:</h3>\r\n              <PayPalButton\r\n                currency=\"ILS\"\r\n                amount={total}\r\n                options={{\r\n                  clientId:\"AVC7mEW5RDbALzT1476MY9WJ8b7FnIMlQZ1iINrAieAP_-moVVf5UCTqRFQCPHxadMwGsCr4nhF71Gjd\"\r\n                }}\r\n                onSuccess={(details,data) => {\r\n                  if(data.orderID){\r\n                    onCommit(data);\r\n                  }\r\n                }}\r\n                onCancel={(err) => {\r\n                  alert(\"The process end before the payment, try again\")\r\n                }}\r\n              />        \r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkout","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\nimport AuthClientComp from '../users_comps/authClientComp';\r\n\r\nfunction OldOrders(props){\r\n  const [ar,setAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[])\r\n\r\n\r\n   // Collecting orders to ar\r\n  const doApi = async() => {\r\n    let url = API_URL+\"/orders/userOrder\";\r\n    let resp = await doApiGet(url);\r\n    let temp_ar = resp.data.filter(item => item.status != \"pending\")\r\n    setAr(temp_ar);\r\n  }\r\n\r\n\r\n  return(\r\n    <div className='container mt-3' style={{ minHeight: \"85vh\" }}>\r\n      <AuthClientComp />\r\n      <h2>Old orders</h2>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>status</th>\r\n            <th>total price</th>\r\n            <th>Date of order</th>\r\n            <th>info</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item,i) => {\r\n            let date = item.date_created.replace(\"T\",\" \");\r\n            date = date.substring(0,date.indexOf(\":\")+3);\r\n            return(\r\n             <tr key={item._id}>\r\n               <td>{i+1}</td>\r\n               <td>{item.status}</td>\r\n               <td>{item.total_price}</td>\r\n               <td>{date}</td>\r\n               <td>\r\n                 <Link  to={\"/oldOrders/\"+item._id} className='btn btn-outline-info'>More info</Link>\r\n               </td>\r\n             </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div> \r\n  )\r\n}\r\nexport default OldOrders","import React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { API_URL, doApiGet } from '../../services/apiService';\r\n\r\nfunction OldOrderInfoClient(props){\r\n  let [ar, setAr] = useState([]);\r\n  let [orderInfo, setOrderInfo] = useState({});\r\n  let [orderDate,setOrderDate] = useState(\"\");\r\n  let params = useParams();\r\n \r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n\r\n  // Collecting orders to ar\r\n  const doApi = async () => {\r\n    let url = API_URL + \"/orders/productsInfo/\" + params.idOrder;\r\n    let resp = await doApiGet(url);\r\n    let date = resp.data.order.date_created.replace(\"T\",\" \");\r\n    date = date.substring(0,date.indexOf(\":\")+3);\r\n    setOrderDate(date);\r\n    setOrderInfo(resp.data.order);\r\n    setAr(resp.data.products);\r\n  }\r\n\r\n\r\n  return(\r\n    <div className='container'>\r\n      <Link className='btn btn-outline-secondary mt-2' to=\"/oldOrders/\">back to list</Link>\r\n      { orderInfo.name ? <article>\r\n        <h2>Order info:</h2>\r\n        <h3>Status of order: {orderInfo.status}</h3>\r\n        <h3>Date: {orderDate}</h3>\r\n      </article> : <h2>Loading...</h2>}\r\n\r\n      <h4>Total price of order:{orderInfo.total_price} nis</h4>\r\n      <table className='table table-striped'>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>name</th>\r\n            <th>short_id</th>\r\n            <th>img</th>\r\n            <th>Price of one item</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ar.map((item, i) => {\r\n            return (\r\n              <tr key={item._id}>\r\n                <td>{i + 1}</td>\r\n                <td title={item.info}>{item.name}</td>\r\n                <td>{item.short_id}</td>\r\n                <td>\r\n                  <img src={item.img_url} alt=\"pic\" height=\"50\" />\r\n                </td>\r\n                <td>{item.price}</td>\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OldOrderInfoClient","import React from 'react';\r\nimport { BrowserRouter as Router, Routes , Route } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Home from './comps/home';\r\nimport LayoutClient from './comps/layoutClient';\r\nimport AddCategory from './comps_admin/addCategory';\r\nimport AddProduct from './comps_admin/addProduct';\r\nimport CategoriesList from './comps_admin/categoriesList';\r\nimport EditCategory from './comps_admin/editCategory';\r\nimport EditProduct from './comps_admin/editProduct';\r\nimport LayoutAdmin from './comps_admin/layoutAdmin';\r\nimport LoginAdmin from './comps_admin/loginAdmin';\r\nimport LogoutAdmin from './comps_admin/logoutAdmin';\r\nimport ProductsAdminList from './comps_admin/productsAdminList';\r\nimport UsersList from './comps_admin/usersList';\r\nimport ProductsListPage from \"./comps/productsListPage\";\r\nimport ProductInfo from './comps/productInfo';\r\n\r\nimport SignUpClient from './comps/users_comps/signupClient';\r\nimport LogInClient from './comps/users_comps/loginClient';\r\nimport LogoutClient from './comps/users_comps/logoutClient';\r\nimport FavsProducts from './comps/users_comps/favsProducts';\r\nimport SearchProducts from './comps/searchProducts';\r\nimport Page404 from './comps/general_comps/page404';\r\nimport CheckoutListAdmin from './comps_admin/checkoutListAdmin';\r\nimport CheckoutInfo from './comps_admin/checkoutInfo';\r\nimport Checkout from './comps/orders_comps/checkout';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport OldOrders from './comps/orders_comps/oldOrders';\r\nimport OldOrderInfoClient from './comps/orders_comps/oldOrderInfoClient';\r\n\r\nfunction AppRoute(props){\r\n  return(\r\n    <Router>\r\n      <Routes>\r\n        {/* for admin user */}\r\n        <Route path=\"/admin\" element={<LayoutAdmin />}>\r\n          <Route index element={<LoginAdmin />}/>\r\n          <Route path=\"/admin/products\" element={<ProductsAdminList />}/>\r\n          <Route path=\"/admin/addProduct\" element={<AddProduct />}/>\r\n          <Route path=\"/admin/editProduct/:id\" element={<EditProduct />}/>\r\n          <Route path=\"/admin/categories\" element={<CategoriesList />}/>\r\n          <Route path=\"/admin/editCategory/:url_name\" element={<EditCategory />}/>\r\n          <Route path=\"/admin/addcategory\" element={<AddCategory />}/>\r\n          <Route path=\"/admin/users\" element={<UsersList />}/>\r\n          <Route path=\"/admin/logout\" element={<LogoutAdmin />}/>\r\n          <Route path=\"/admin/checkout\" element={<CheckoutListAdmin />}/>\r\n          <Route path=\"/admin/checkoutInfo/:id\" element={<CheckoutInfo />}/>\r\n        </Route>\r\n        {/* For regular user client path */}\r\n        <Route path=\"/\" element={<LayoutClient />}>\r\n          <Route index element={<Home />} />\r\n          <Route path=\"/products/:cat_url\" element={<ProductsListPage />}  />\r\n          <Route path=\"/productsSearch/\" element={<SearchProducts />}  />\r\n          <Route path=\"/productInfo/:id\" element={<ProductInfo />}  />\r\n          <Route path=\"/signup\" element={<SignUpClient />}  />\r\n          <Route path=\"/login\" element={<LogInClient />}  />\r\n          <Route path=\"/logout\" element={<LogoutClient />}  />\r\n          <Route path=\"/products_favs\" element={<FavsProducts />}  />\r\n          <Route path=\"/checkout\" element={<Checkout />}  />\r\n          <Route path=\"/oldOrders\" element={<OldOrders />}  />\r\n          <Route path=\"/oldOrders/:idOrder\" element={<OldOrderInfoClient />}  />\r\n         {/* * - for any url that not in another route go to 404 */}\r\n          <Route path=\"/*\" element={<Page404 />} />\r\n        </Route> \r\n      </Routes>\r\n      {/* theme='colored' make the toast message bg to be red,green... */}\r\n      <ToastContainer position=\"top-right\" theme='colored' />\r\n    </Router> \r\n  )\r\n}\r\n\r\nexport default AppRoute","// import logo from './logo.svg';\r\nimport React from 'react';\r\nimport './App.css';\r\nimport AppRoute from './appRoute';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n      <React.Fragment>\r\n        <AppRoute />\r\n      </React.Fragment>\r\n   \r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}